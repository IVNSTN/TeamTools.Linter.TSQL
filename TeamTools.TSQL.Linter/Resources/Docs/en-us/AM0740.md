

# Possible ambiguity if schema omitted in ALTER or DROP

|||
|-|-|
| Id | **AM0740**
| Mnemo | ALTER_DROP_NEEDS_SCHEMA
| Severity | ⚠ Warning
| Category | [Ambiguity](./Category_Ambiguity.md)
| Source code | [SchemaQualifiedAlterDropRule.cs](../../../Rules/Ambiguity/SchemaQualifiedAlterDropRule.cs)

## Cause

<p id="descr">This rule is triggered if the schema is not specified in the ALTER or DROP clause.</p>

## Examples

Bad

```sql
ALTER TABLE bar ADD col INT;
GO

ALTER PROC bar
AS
    RETURN 1;
GO

DROP SEQUENCE bar

DROP TYPE bar
```

Good

```sql
ALTER TABLE foo.bar ADD col INT;
GO

ALTER PROC foo.bar
AS
    RETURN 1;
GO

DROP SEQUENCE foo.bar

DROP TYPE foo.bar
```

## Tips

💡 Different users may have different DEFAULT_SCHEMA, except members of the sysadmin. You should always specify the schema in the DDL scripts, because the schema should not depend on the user who will run the script.

## Links

[ALTER USER. Remarks.](https://learn.microsoft.com/en-us/sql/t-sql/statements/alter-user-transact-sql?view=sql-server-ver15&redirectedfrom=MSDN#remarks)
