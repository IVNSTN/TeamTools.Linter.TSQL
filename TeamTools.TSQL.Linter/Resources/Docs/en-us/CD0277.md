

# Use DATEPART function instead of YEAR(), MONTH(), DAY()

|||
|-|-|
| Id | **CD0277**
| Mnemo | DATE_FN_IN_CONSTRAINT
| Severity | ⚠ Warning
| Category | [ContinuousDelivery](./Category_ContinuousDelivery.md)
| Source code | [DateFunctionsInConstraintRule.cs](../../../Rules/ContinuousDeployment/DateFunctionsInConstraintRule.cs)

## Cause

This rule is triggered if `YEAR`, `MONTH` or `DAY` functions are used in constraints.
<p id="descr">Use DATEPART function.</p>

## Examples

Bad

```sql
CREATE TABLE foo
(
    bar DATETIME NOT NULL
    , mar AS YEAR(bar)
);
```

Good

```sql
CREATE TABLE foo
(
    bar DATETIME NOT NULL
    , mar AS DATEPART(YEAR, bar)
);
```

## Tips

💡 The rule does not apply to temporary tables or table variables.

💡 DacFx converts `YEAR`, `MONTH` or `DAY` functions to `DATEPART` when publishing, and so it turns out an "eternal diff".
