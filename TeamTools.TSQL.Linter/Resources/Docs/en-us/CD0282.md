

# Use SUBSTRING function instead of LEFT, RIGHT

|||
|-|-|
| Id | **CD0282**
| Mnemo | STRING_FN_IN_CONSTRAINT
| Severity | ⚠ Warning
| Category | [ContinuousDelivery](./Category_ContinuousDelivery.md)
| Source code | [StringFunctionInConstraintRule.cs](../../../Rules/ContinuousDeployment/StringFunctionInConstraintRule.cs)

## Cause

This rule is triggered if the `LEFT` or `RIGHT` functions are used in constraints.
<p id="descr">Use the SUBSTRING function.</p>

## Examples

Bad

```sql
CREATE TABLE foo
(
    bar VARCHAR(20) NOT NULL
    , mar AS LEFT(bar, 20)
);
```

Good

```sql
CREATE TABLE foo
(
    bar VARCHAR(20) NOT NULL
    , mar AS SUBSTRING(bar, 1, 20)
);
```

## Tips

💡 The rule does not apply to temporary tables or table variables.

💡 DacFx converts `LEFT` or `RIGHT` functions to `SUBSTRING` when publishing, and so it turns out to be an "eternal diff".
