

# Named constraint on a temporary (#) table

|||
|-|-|
| Id | **CS0107**
| Mnemo | TMP_NAMED_CONSTRAINT
| Severity | ⚠ Warning
| Category | [CodeSmell](./Category_CodeSmell.md)
| Source code | [ConstraintNameInTempTableRule.cs](../../../Rules/CodeSmell/ConstraintNameInTempTableRule.cs)

## Cause

This rule triggers if a named constraint is found on a temporary table.
<p id="descr">Remove the constraint name.</p>

## Examples

Bad

```sql
CREATE TABLE #foo
(
    bar INT NOT NULL CONSTRAINT DF_foo_bar DEFAULT 1
    , CONSTRAINT #pk PRIMARY KEY (bar)
)
```

Good

```sql
CREATE TABLE #foo
(
    bar INT NOT NULL CONSTRAINT DEFAULT 1
    , PRIMARY KEY (bar)
)
```

## Tips

⚠️ It is highly recommended not to name constraints on temporary tables (#), since they are stored not in the table context, but in the tempdb context and can easily overlap by name (there will be an error about the uniqueness of the constraint name) with another process, while the temporary tables themselves are isolated and "invisible" between these processes.

⚠️ Named constraints on temporary tables block the ability to cache table metadata, which can negatively affect the performance of frequently called stored procedures.
