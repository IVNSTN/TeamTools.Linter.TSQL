

# SYSNAME is used for scalar variable

|||
|-|-|
| Id | **CS0146**
| Mnemo | SYSNAME_FOR_SCALAR_VAR
| Severity | ⚠ Warning
| Category | [CodeSmell](./Category_CodeSmell.md)
| Source code | [SysnameTypeForScalarVariableRule.cs](../../../Rules/CodeSmell/SysnameTypeForScalarVariableRule.cs)

## Cause

This rule is triggered if `SYSNAME` datatype is found to be used to specify the type of a variable or return value.
<p id="descr">Use a string type with an explicit size specification.</p>

## Examples

Bad

```sql
CREATE FUNCTION foo (@param SYSNAME)
RETURNS SYSNAME
AS
BEGIN
    RETURN '';
END;
```

Good

```sql
CREATE FUNCTION bar (@param INT)
RETURNS VARCHAR(10)
AS
BEGIN
    RETURN '';
END;
```

## Tips

💡 The `SYSNAME` datatype is a system-provided user-defined data type that is functionally equivalent to the `NVARCHAR(128)` type, except that it does not allow `NULL` values.

💡 The `SYSNAME` datatype appears where some magic is expected from it. Usually, this ends with the code being written without understanding what length and what bit depth of the strings are actually used. Some expect that `SYSNAME` will always fit into a one-bit string of 50 characters, others sincerely believe that `SYSNAME` is for the object name, which means that putting a four-part object name into one `SYSNAME` is quite correct and reasonable.

## Links

[nchar and nvarchar](https://docs.microsoft.com/en-us/sql/t-sql/data-types/nchar-and-nvarchar-transact-sql?view=sql-server-ver16)
