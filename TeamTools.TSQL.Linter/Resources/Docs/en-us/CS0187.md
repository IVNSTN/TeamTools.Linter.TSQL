

# Transaction control attempt in trigger

|||
|-|-|
| Id | **CS0187**
| Mnemo | TRAN_CONTROL_IN_TRIGGER
| Severity | ⚠ Warning
| Category | [CodeSmell](./Category_CodeSmell.md), [Triggers](./Group_Triggers.md)
| Source code | [TransactionControlInTriggerRule.cs](../../../Rules/CodeSmell/TransactionControlInTriggerRule.cs)

## Cause

This rule is triggered when transaction control is used in trigger.
<p id="descr">Remove transaction control.</p>

## Examples

Bad

```sql
CREATE TRIGGER trg ON dbo.foo
AFTER UPDATE
AS
BEGIN
    BEGIN TRAN;
    ...
    COMMIT TRAN;
END;
```

Good

```sql
CREATE TRIGGER trg ON dbo.foo
AFTER UPDATE
AS
BEGIN
    ...
END;
```

## Tips

💡 Use THROW to report errors in an external transaction.
