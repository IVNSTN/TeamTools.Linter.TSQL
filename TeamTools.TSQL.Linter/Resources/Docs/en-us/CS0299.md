

# IIF includes nested conditional constructs or queries

|||
|-|-|
| Id | **CS0299**
| Mnemo | COMPLICATED_IIF_TO_CASE
| Severity | ⚠ Warning
| Category | [CodeSmell](./Category_CodeSmell.md)
| Source code | [IifWithNestedConditionsToCaseRule.cs](../../../Rules/CodeSmell/IifWithNestedConditionsToCaseRule.cs)

## Cause

This rule is triggered when IIF includes nested conditional constructs or queries.
<p id="descr">Simplify IIF or use CASE.</p>

## Examples

Bad

```sql
SET @bit = IIF(CASE @a WHEN 'a' THEN 1 ELSE 0 END = 1, 1, 0);
```

Good

```sql
SET @bit = CASE @a WHEN 'a' THEN 1 ELSE 0 END;
```
