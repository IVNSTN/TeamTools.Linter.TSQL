

# Unexpected code encryption

|||
|-|-|
| Id | **CS0523**
| Mnemo | CODE_ENCRYPTED
| Severity | ⚠ Warning
| Category | [CodeSmell](./Category_CodeSmell.md)
| Source code | [CodeEncryptedRule.cs](../../../Rules/CodeSmell/CodeEncryptedRule.cs)

## Cause

The rule is triggered if the source code of the object is encrypted.
<p id="descr">Remove the option WITH ENCRYPTION from the code.</p>

## Examples

Bad

```sql
CREATE VIEW dbo.my_view
WITH ENCRYPTION
AS
...
```

Good

```sql
CREATE VIEW dbo.my_view
AS
...
```

## Tips

💡 The source code is in the repository and is available locally to each developer in an open format. Encryption often makes life more difficult only when maintaining the database and debugging the code.

💡 It is important to note that encrypted SQL objects can be easily decrypted with the help of third-party tools. Therefore, it is not advisable to use this method to protect highly sensitive information or code.

💡 It is more efficient to limit actions on objects by granting access rights to groups of users or specific users.

## Links

[Using the parameter WITH ENCRYPTION](https://learn.microsoft.com/en-us/sql/t-sql/statements/create-procedure-transact-sql?view=sql-server-ver16#Encrypt)

[GRANT (VIEW DEFINITION)](https://learn.microsoft.com/en-us/sql/t-sql/statements/grant-object-permissions-transact-sql?view=sql-server-ver16#remarks)

[REVOKE (VIEW DEFINITION)](https://learn.microsoft.com/en-us/sql/t-sql/statements/revoke-object-permissions-transact-sql?view=sql-server-ver16#remarks)
