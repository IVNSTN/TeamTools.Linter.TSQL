

# INFORMATION_SCHEMA views is mixed with SQL SERVER sys-views

|||
|-|-|
| Id | **CS0781**
| Mnemo | INFORMATION_SCHEMA_SYS_MIX
| Severity | ⚠ Warning
| Category | [CodeSmell](./Category_CodeSmell.md)
| Source code | [InformationSchemaSysTablesMixRule.cs](../../../Rules/CodeSmell/InformationSchemaSysTablesMixRule.cs)

## Cause

This rule is triggered when INFORMATION_SCHEMA views is mixed with SQL SERVER sys-views.
<p id="descr">Rewrite the query with only one view type.</p>

## Examples

Bad

```sql
SELECT TOP 10
    s.name AS TABLE_SCHEMA
    , t.name AS TABLE_NAME
    , c.COLUMN_NAME
    , c.IS_NULLABLE
FROM INFORMATION_SCHEMA.COLUMNS AS c
INNER JOIN sys.tables AS t
    ON t.name = c.TABLE_NAME
INNER JOIN sys.schemas AS s
    ON s.schema_id = t.schema_id
    AND s.name = c.TABLE_SCHEMA
```

Good

```sql
SELECT TOP 10
    s.name AS TABLE_SCHEMA
    , t.name AS TABLE_NAME
    , c.name AS COLUMN_NAME
    , c.is_nullable AS IS_NULLABLE
FROM sys.columns AS c
INNER JOIN sys.tables AS t
    ON c.object_id = t.object_id
INNER JOIN sys.schemas AS s
    ON s.schema_id = t.schema_id;
```

## Tips

💡 INFORMATION_SCHEMA views are required for ANSI standard compatibility.
