
# Dropping without existence check is not error-prone

|||
|-|-|
| Id | **CS0977**
| Mnemo | DROPPING_WITH_NO_CHECK
| Severity | ℹ Hint
| Category | [CodeSmell](./Category_CodeSmell.md)
| Source code | [DropWithNoCheckRule.cs](../../../Rules/CodeSmell/DropWithNoCheckRule.cs)

## Cause

The rule is triggered if deletion occurs without checking for the existence of an object using the OBJECT_ID(...) function or the DROP ... IF EXISTS construct.
<p id="descr">Add a check for the existence of an object.</p>

## Examples

Bad

```sql
DROP TABLE tmp.my_table;
...
```

Good

```sql
DROP TABLE IF EXISTS tmp.my_table;
...
```

## Tips

💡 Microsoft SQL Server (when deleting, you can use the IF EXISTS parameter):

- `TABLE`
- `VIEW`
- `PROCEDURE`
- `FUNCTION`
- `SEQUENCE`
- `TRIGGER`
- `INDEX`
- `DATABASE`
- `SCHEMA`
- `ROLE`
- `RULE`
- `TYPE`
- `AGGREGATE`
- `ASSEMBLY`
- `USER`
- `DEFAULT`
- `SECURITY POLICY`
- `SYNONYM`

💡 If the object does not exist, SQL Server will ignore the instruction and continue executing the next statement without error.

## Links

[Deleting a table using IF EXISTS](https://learn.microsoft.com/en-us/sql/t-sql/statements/drop-table-transact-sql?view=sql-server-ver16#d-dropping-a-table-using-if-exists)
