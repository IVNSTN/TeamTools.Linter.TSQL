

# Cursor should be defined as FORWARD_ONLY or FAST_FORWARD

|||
|-|-|
| Id | **CS0982**
| Mnemo | CURSOR_FORWARD_ONLY
| Severity | ⚠ Warning
| Category | [CodeSmell](./Category_CodeSmell.md), [Cursors](./Group_Cursors.md)
| Source code | [CursorForwardOnlyRule.cs](../../../Rules/CodeSmell/CursorForwardOnlyRule.cs)

## Cause

This rule is triggered when cursor is scanned in only one direction and isn't declared as FORWARD_ONLY or FAST_FORWARD.
<p id="descr">Declare cursor as FORWARD_ONLY or FAST_FORWARD.</p>

## Examples

Bad

```sql
DECLARE
    @cr CURSOR

SET @cr = CURSOR LOCAL FOR -- non forward-only
    SELECT id
    FROM foo

OPEN @cr

FETCH NEXT FROM @cr -- forward-only

CLOSE @cr
DEALLOCATE @cr
```

Good

```sql
DECLARE
    @cr CURSOR

SET @cr = CURSOR LOCAL FORWARD_ONLY FOR
    SELECT id
    FROM foo

OPEN @cr

FETCH NEXT FROM @cr

CLOSE @cr
DEALLOCATE @cr
```
