

# SPARSE column for in-memory

|||
|-|-|
| Id | **DD0774**
| Mnemo | SPARSE_COL_INMEMORY
| Severity | ⚠ Warning
| Category | [DatabaseDesign](./Category_DatabaseDesign.md), [InMemory](./Group_InMemory.md)
| Source code | [SparseColumnInMemoryRule.cs](../../../Rules/DatabaseDesign/SparseColumnInMemoryRule.cs)

## Cause

This rule is triggered when SPARSE option is used for in-memory table column.
<p id="descr">Remove SPARSE option.</p>

## Examples

Bad

```sql
CREATE TABLE dbo.foo
(
    id     BIGINT   NOT NULL
    , name CHAR(20) SPARSE NULL
) WITH (MEMORY_OPTIMIZED = ON)
```

Good

```sql
CREATE TABLE dbo.foo
(
    id     BIGINT   NOT NULL
    , name CHAR(20) NULL
) WITH (MEMORY_OPTIMIZED = ON)
```

## Links

[In-Memory overhead required for updates to sparse columns](https://learn.microsoft.com/en-us/sql/relational-databases/tables/use-sparse-columns?view=sql-server-ver16#in-memory-overhead-required-for-updates-to-sparse-columns)
