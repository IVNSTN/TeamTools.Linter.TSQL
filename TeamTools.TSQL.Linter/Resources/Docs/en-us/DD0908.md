

# Nonclustered index includes clustered index columns

|||
|-|-|
| Id | **DD0908**
| Mnemo | NONCLUSTERED_IDX_INCLUDES_CLUSTERED
| Severity | ℹ Hint
| Category | [DatabaseDesign](./Category_DatabaseDesign.md), [Indices](./Group_Indices.md)
| Source code | [NonClusteredIndexIncludingClusteredColsRule.cs](../../../Rules/DatabaseDesign/NonClusteredIndexIncludingClusteredColsRule.cs)

## Cause

This rule is triggered when nonclustered index includes clustered index columns.
<p id="descr">Remove columns included in the clustered index.</p>

## Examples

Bad

```sql
CREATE TABLE dbo.foo
(
    id          INT NOT NULL PRIMARY KEY
    , parent_id INT NULL
    , name      VARCHAR(10) NOT NULL
    , sect_num  TINYINT NOT NULL
) ON partition_fn(sect_num);
GO
CREATE NONCLUSTERED INDEX IX_parent_id ON dbo.foo(parent_id, id);
```

Good

```sql
CREATE TABLE dbo.foo
(
    id          INT NOT NULL PRIMARY KEY
    , parent_id INT NULL
    , name      VARCHAR(10) NOT NULL
    , sect_num  TINYINT NOT NULL
) ON partition_fn(sect_num);
GO
CREATE NONCLUSTERED INDEX IX_parent_id ON dbo.foo(parent_id);
```
