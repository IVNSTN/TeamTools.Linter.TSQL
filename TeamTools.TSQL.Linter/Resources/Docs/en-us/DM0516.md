

# Insecure persistent table truncation

|||
|-|-|
| Id | **DM0516**
| Mnemo | TRUNCATING_TABLES
| Severity | ⚠ Warning
| Category | [DatabaseMaintenance](./Category_DatabaseMaintenance.md)
| Source code | [TableTruncateRule.cs](../../../Rules/DatabaseMaintenance/TableTruncateRule.cs)

## Cause

This rule is triggered if a TRUNCATE TABLE statement for a persistent table is found.
<p id="descr">Remove TRUNCATE TABLE or use a temporary table/variable.</p>

## Examples

Bad

```sql
TRUNCATE TABLE dbo.main_data
```

Good

```sql
TRUNCATE TABLE #main_data
```

## Tips

💡 Truncating of temporary tables (#) is allowed.

💡 Utility and administrative stored procedures should be organized within dedicated schemas and databases.

💡 Having such a code is dangerous, because an ordinary user of the product, by gaining access to some interface stored procedure, can directly or indirectly gain access to the DBMS management. Only the DBA should have such access.
