

# Function is not supported in natively compiled modules

|||
|-|-|
| Id | **FA0766**
| Mnemo | NATIVELY_FUNCTION_NOT_SUPPORTED
| Severity | ⛔ Error
| Category | [Failure](./Category_Failure.md), [InMemory](./Group_InMemory.md)
| Source code | [NativelyUnsupportedFunctionCallRule.cs](../../../Rules/Failure/NativelyUnsupportedFunctionCallRule.cs)

## Cause

This rule is triggered when function isn't supported in natively compiled modules.
<p id="descr">Remove unsupported function.</p>

## Examples

Bad

```sql
CREATE PROC dbo.foo
WITH NATIVE_COMPILATION, SCHEMABINDING, EXECUTE AS OWNER
AS
BEGIN ATOMIC WITH (TRANSACTION ISOLATION LEVEL = SNAPSHOT, LANGUAGE = N'English')
    IF XACT_STATE() <> 0
        SELECT CHECKSUM(
            TRY_CONVERT(NCHAR(10), 'asdf'))

    RETURN 1
END
GO
```

Good

```sql
CREATE PROC dbo.foo
WITH NATIVE_COMPILATION, SCHEMABINDING, EXECUTE AS OWNER
AS
BEGIN ATOMIC WITH (TRANSACTION ISOLATION LEVEL = SNAPSHOT, LANGUAGE = N'English')
    IF LEN('a') > 0
        SELECT TRY_CAST('asdf' AS NCHAR(10))

    RETURN 1
END
GO
```

## Links

💡 [Built-in Functions in Natively Compiled Modules](https://learn.microsoft.com/en-us/sql/relational-databases/in-memory-oltp/supported-features-for-natively-compiled-t-sql-modules?view=sql-server-ver16#bfncsp)
