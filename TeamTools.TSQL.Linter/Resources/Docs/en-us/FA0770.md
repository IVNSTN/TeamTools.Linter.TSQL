

# SPARSE columns aren't supported the specified options or aren't allowed in the given construction

|||
|-|-|
| Id | **FA0770**
| Mnemo | SPARSE_UNSUPPORTED_FEATURE
| Severity | ⛔ Error
| Category | [Failure](./Category_Failure.md)
| Source code | [SparseUnsupportedFeatureRule.cs](../../../Rules/Failure/SparseUnsupportedFeatureRule.cs)

## Cause

This rule is triggered when SPARSE columns don't support the specified options or aren't allowed in the given construction.
<p id="descr">Remove SPARSE columns or unsupported options.</p>

## Examples

Bad

```sql
CREATE TABLE dbo.foo
(
    bar    TINYINT SPARSE NULL DEFAULT 0
    , id   INT     SPARSE NULL IDENTITY(1, 1)
    , far  CHAR(1) SPARSE NOT NULL
);
```

Good

```sql
CREATE TABLE dbo.foo
(
    bar    TINYINT NULL DEFAULT 0
    , id   INT     NULL IDENTITY(1, 1)
    , far  CHAR(1) NOT NULL
);
```

## Links

💡 [Restrictions for using sparse columns](https://learn.microsoft.com/en-us/sql/relational-databases/tables/use-sparse-columns?view=sql-server-ver16#restrictions-for-using-sparse-columns)
