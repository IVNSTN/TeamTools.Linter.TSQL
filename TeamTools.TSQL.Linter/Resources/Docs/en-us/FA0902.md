

# Incompatible cursor options

|||
|-|-|
| Id | **FA0902**
| Mnemo | CURSOR_OPTION_INCOMPATIBLE
| Severity | ⚠ Warning
| Category | [Failure](./Category_Failure.md)
| Source code | [CursorOptionsCompatibilityRule.cs](../../../Rules/Failure/CursorOptionsCompatibilityRule.cs)

## Cause

The rule is triggered if incompatible options are specified in the cursor.
<p id="descr">Delete incompatible options.</p>

## Examples

Bad

```sql
DECLARE mycursor CURSOR LOCAL FAST_FORWARD FOR
    SELECT ProductId, Price FROM #Product WHERE Type = 100
    FOR UPDATE OF Price;
```

Good

```sql
DECLARE mycursor CURSOR LOCAL FORWARD_ONLY DYNAMIC FOR
    SELECT pr.product_id, pr.price FROM dbo.product AS pr WHERE pr.type = 100
    FOR UPDATE OF pr.price;
```

## Tips

 💡 Not all cursor options are compatible with each other.

 💡 List of incompatible options of cursor:

- LOCAL - GLOBAL
- SCROLL - FORWARD_ONLY
- SCROLL - FAST_FORWARD
- STATIC - KEYSET
- STATIC - DYNAMIC
- STATIC - FAST_FORWARD
- STATIC - SCROLL_LOCKS
- DYNAMIC - KEYSET
- FAST_FORWARD - DYNAMIC
- FAST_FORWARD - KEYSET
- FAST_FORWARD - SCROLL_LOCKS
- FAST_FORWARD - OPTIMISTIC
- FAST_FORWARD - FORWARD_ONLY
- FAST_FORWARD - READONLY

## Links

[DECLARE CURSOR](https://learn.microsoft.com/en-us/sql/t-sql/language-elements/declare-cursor-transact-sql?view=sql-server-ver16)
