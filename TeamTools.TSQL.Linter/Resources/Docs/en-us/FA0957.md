

# Operation is not supported by this type

|||
|-|-|
| Id | **FA0957**
| Mnemo | NUMERIC_OPERATION_ON_NON_NUMERIC
| Severity | ⛔ Error
| Category | [Failure](./Category_Failure.md)
| Source code | [InvalidTypeForNumericOperationRule.cs](../../../Rules/Failure/InvalidTypeForNumericOperationRule.cs)

## Cause

The rule is triggered if arithmetic operations are performed on data types that do not support them. The data type specified in the error details does not support the specified operation.
<p id="descr">Specify the data type supported by the arithmetic operation.</p>

## Examples

Bad

```sql
DECLARE @dt_start  DATE = '2000-01-01'
DECLARE @dt_finish DATE = '2001-05-01'
SELECT  @dt_finish - @dt_start AS diff_days

DECLARE @dt_start  DATE = '2000-01-01 00:00:00.000'
DECLARE @dt_finish DATE = '2000-01-01 00:00:05.000'
SELECT  @dt_finish - @dt_start AS diff_sec
```

Good

```sql
DECLARE @dt_start  DATE = '2000-01-01'
DECLARE @dt_finish DATE = '2001-05-01'
SELECT  DATEDIFF(DAY, @dt_start, @dt_finish) AS diff_days

DECLARE @dt_start  DATETIME = '2000-01-01 00:00:00.000'
DECLARE @dt_finish DATETIME = '2000-01-01 00:00:05.000'
SELECT  @dt_finish - @dt_start  AS diff_sec
```

## Tips

💡 You can sum or concatenate almost all types except, XML, HIERARCHY_ID, TIME, which do not allow any modification of the value(except assignment or editing using by special functions).

## Links

[Replace value of (XML DML)](https://learn.microsoft.com/en-us/sql/t-sql/xml/replace-value-of-xml-dml?view=sql-server-ver16)

[Create and manage data in a hierarchical table](https://learn.microsoft.com/en-us/sql/relational-databases/tables/lesson-2-creating-and-managing-data-in-a-hierarchical-table?view=sql-server-ver16)

[Date and time types](https://learn.microsoft.com/en-us/sql/t-sql/data-types/date-and-time-types?view=sql-server-ver16)
