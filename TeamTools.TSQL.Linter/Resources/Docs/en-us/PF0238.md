

# UNION ALL is preferred because one of literals is different in resultsets

|||
|-|-|
| Id | **PF0238**
| Mnemo | UNION_TO_UNION_ALL
| Severity | ⚠ Warning
| Category | [Performance](./Category_Performance.md)
| Source code | [UnionToUnionAllRule.cs](../../../Rules/Performance/UnionToUnionAllRule.cs)

## Cause

<p id="descr">Using UNION without specifying ALL sorts the results. However, if the result sets contain distinct literals, sorting is not necessary to identify their differences.</p>

## Examples

Bad

```sql
    SELECT
        EmployeeID,
        'Dept: 1st' AS Department
    FROM dbo.Employees1
    UNION
    SELECT
        EmployeeID,
        'Dept: 2nd' AS Department
    FROM dbo.Employees2;
```

Good

```sql
    SELECT
        EmployeeID,
        'Dept: 1st' AS Department
    FROM dbo.Employees1
    UNION ALL
    SELECT
        EmployeeID,
        'Dept: 2nd' AS Department
    FROM dbo.Employees2;
```

## Tips

💡 UNION also removes duplicate rows from the result set (similar to the DISTINCT effect), so be cautious when changing it to UNION ALL.
