
# Index column is filtered for NULL but not included into index

|||
|-|-|
| Id | **PF0928**
| Mnemo | FILTERED_IDX_FOR_NULL_COL_NOT_INCLUDED
| Severity | ⚠ Warning
| Category | [Performance](./Category_Performance.md), [Indices](./Group_Indices.md)
| Source code | [IndexFilterColumnNullMissingInKeyRule.cs](../../../Rules/Performance/IndexFilterColumnNullMissingInKeyRule.cs)

## Cause

This rule is triggered if the `WHERE <col> IS NULL` filter for a column that is not included in the index is found in an index definition.
<p id="descr">Remove the filter or add a column to the index.</p>

## Examples

Bad

```sql
CREATE INDEX IXF_dbo_foo_id ON dbo.foo(id)
WHERE title IS NULL;
```

Good

```sql
CREATE INDEX IXF_dbo_foo_id ON dbo.foo(id)
WHERE title IS NOT NULL;

CREATE INDEX IXIF_dbo_foo_id ON dbo.foo(id)
INCLUDE(title) WHERE title IS NULL;
```

## Tips

💡 If the index has a filter `WHERE <col> IS NULL`, then such an index can be applied to a query with a similar filter only if the mentioned column is in the list of `INCLUDE` index columns. Otherwise, the index will not be used.
