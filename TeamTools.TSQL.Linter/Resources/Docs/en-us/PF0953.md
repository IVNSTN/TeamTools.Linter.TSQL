

# TOP limit looks like no limit

|||
|-|-|
| Id | **PF0953**
| Mnemo | TOP_TAKES_ALL
| Severity | ⚠ Warning
| Category | [Performance](./Category_Performance.md)
| Source code | [TopTakesAllRule.cs](../../../Rules/Performance/TopTakesAllRule.cs)

## Cause

<p id="descr">If the TOP clause specifies 100 PERCENT or a large number of rows, it likely does not limit the result set. This indicates that the clause may be unnecessary, or that a questionable decision is being made based on the ordering of the rows.</p>

## Examples

Bad

```sql
SELECT TOP (100) PERCENT
    a, b, c
FROM dbo.bar
```

Good

```sql
SELECT a, b, c
FROM dbo.bar
```

## Tips

💡 There is no need to sort the result set of views. This is additionally enforced by rule PF0952.

💡 To concatenate strings in a specific order, it is recommended to use the STRING_AGG function, which allows you to specify sorting.

💡 For numbering rows in a specific order, it is advisable to use the ROWNUMBER function, where sorting can be defined.

💡 Utility and administrative stored procedures for handling batch data transfers should be organized within dedicated schemas.
