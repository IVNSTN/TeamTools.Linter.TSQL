

# Consider turning filter into SARGable LIKE

|||
|-|-|
| Id | **PF0956**
| Mnemo | SUBSTRING_TO_LIKE
| Severity | ⚠ Warning
| Category | [Performance](./Category_Performance.md)
| Source code | [SubstringPredicateToLikeRule.cs](../../../Rules/Performance/SubstringPredicateToLikeRule.cs)

## Cause

<p id="descr">Filtering based on the start of a string may be more efficient when using the LIKE operator, rather than truncating the column value and comparing it to a scalar.</p>

## Tips

💡 The rule responds to the use of string functions LEFT and SUBSTRING (when extracting from the first character) in the WHERE clause. These functions are non-sargable. However, a LIKE clause with a known string prefix, such as LIKE 'a%', is sargable. If there is an index on the filtered field, it will perform a SEEK instead of a SCAN.

💡 If the scalar value being compared includes characters that LIKE interprets as special characters ([, ], %, _), these characters must be escaped when converting to a LIKE clause.

Before
```sql
SELECT env.var_name
FROM dbo.environment env
WHERE SUBSTRING(env.var_name, 1, 3) = 'GF_'
```
After
```sql
SELECT env.var_name
FROM dbo.environment env
WHERE env.var_name LIKE 'GF[_]%'
```
