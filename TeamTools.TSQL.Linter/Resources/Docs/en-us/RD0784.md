

# Intersect/except makes no sense since one of literals is different 

|||
|-|-|
| Id | **RD0784**
| Mnemo | REDUNDANT_INTERSECT_EXCEPT
| Severity | ⚠ Warning
| Category | [Redundancy](./Category_Redundancy.md)
| Source code | [RedundantIntersectExceptRule.cs](../../../Rules/Redundancy/RedundantIntersectExceptRule.cs)

## Cause

This rule is triggered if a literal that differs in the left and right input queries of INTERSECT or EXCEPT is found.
<p id="descr">Remove the literal that differs in the expression parts.</p>

## Examples

Bad

```sql
SELECT a, 1 FROM dbo.foo
INTERSECT
SELECT c, 0 FROM dbo.bar

SELECT a, 'a' FROM dbo.foo
EXCEPT
SELECT c, 'b' FROM dbo.bar
```

Good

```sql
SELECT a, b FROM dbo.foo
INTERSECT
SELECT c, 0 FROM dbo.bar

SELECT a, b FROM dbo.foo
EXCEPT
SELECT c, 'b' FROM dbo.bar
```

## Tips

💡 For EXCEPT, this means that the result will always be the first subquery, and for INTERSECT, the result will never contain rows. If there is a literal that differs in the input subqueries of the INTERSECT or EXCEPT expression, then the subqueries are obviously not equivalent.
