

# Redundant NOT FOR REPLICATION option

|||
|-|-|
| Id | **RD0926**
| Mnemo | REDUNDANT_NOT_FOR_REPLICATION
| Severity | ⚠ Warning
| Category | [Redundancy](./Category_Redundancy.md)
| Source code | [RedundantNotForReplicationRule.cs](../../../Rules/Redundancy/RedundantNotForReplicationRule.cs)

## Cause

This rule is triggered if the constraint or trigger definitions have the NOT FOR REPLICATION option set.
<p id="descr">Remove the NOT FOR REPLICATION option.</p>

## Examples

Bad

```sql
CREATE TABLE dbo.foo
(
    usr_name    VARCHAR(20) NOT NULL
    , role_id   INT NOT NULL
    , CONSTRAINT ck_name CHECK NOT FOR REPLICATION (usr_name <> 'admin')
)

CREATE TRIGGER dbo.my_trg ON dbo.foo AFTER INSERT
NOT FOR REPLICATION
AS
BEGIN
    DELETE dbo.bar WHERE id = 1;
END
```

Good

```sql
CREATE TABLE dbo.foo
(
    usr_name    VARCHAR(20) NOT NULL
    , role_id   INT NOT NULL
    , CONSTRAINT ck_name CHECK (usr_name <> 'admin')
)

CREATE TRIGGER dbo.my_trg ON dbo.foo AFTER INSERT
AS
BEGIN
    DELETE dbo.bar WHERE id = 1;
END
```
