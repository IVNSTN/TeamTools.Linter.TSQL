

# Redundant aggregate

|||
|-|-|
| Id | **RD0943**
| Mnemo | REDUNDANT_AGGREGATE
| Severity | ⚠ Warning
| Category | [Redundancy](./Category_Redundancy.md)
| Source code | [RedundantAggregationRule.cs](../../../Rules/Redundancy/RedundantAggregationRule.cs)

## Cause

This rule is triggered if an aggregate function is found to be used on a scalar variable or literal.
<p id="descr">Remove the aggregate and use the variable/literal itself in the selection.</p>

## Examples

Bad

```sql
SELECT
    MAX(DISTINCT 1) AS m
    , SUM(0) AS s
    , AVG(100) AS a
    , COUNT(NULL) AS a
FROM dbo.foo AS t
```

Good

```sql
SELECT 1 AS rn, t.title AS main_title
FROM dbo.foo AS t

SELECT 1 AS rn, t.parent_id, MAX(t.date)
FROM dbo.foo AS t
GROUP BY t.parent_id
```
