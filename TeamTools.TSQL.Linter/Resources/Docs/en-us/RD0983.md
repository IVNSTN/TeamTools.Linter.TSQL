

# Variable is fetched from cursor but never used

|||
|-|-|
| Id | **RD0983**
| Mnemo | CURSOR_FETCHED_VAR_UNUSED
| Severity | ⚠ Warning
| Category | [Redundancy](./Category_Redundancy.md)
| Source code | [CursorFetchedVarUnusedRule.cs](../../../Rules/Redundancy/CursorFetchedVarUnusedRule.cs)

## Cause

This rule is triggered if an unused value is fetched from the cursor.
<p id="descr">Remove the unused value being fetched from the cursor.</p>

## Examples

Bad

```sql
DECLARE cr CURSOR FAST_FORWARD FOR
    SELECT id, title FROM dbo.foo;
OPEN cr;

FETCH NEXT FROM cr INTO @id, @title;

PRINT @title;

CLOSE cr;
DEALLOCATE cr;
```

Good

```sql
DECLARE cr CURSOR FAST_FORWARD FOR
    SELECT id, title FROM dbo.foo;
OPEN cr;

FETCH NEXT FROM cr INTO @id, @title;

SET @id += 1;
PRINT @title;

CLOSE cr;
DEALLOCATE cr;
```

## Tips

💡 By removing the unused value, the variable may no longer be needed, and the query may also be simplified so that it no longer returns columns that are actually unused.
