

# Вызов процедуры без указания схемы

|||
|-|-|
| Id | **AM0104**
| Мнемо | EXEC_PROC_SCHEMA
| Серьёзность | ⚠ Предупреждение
| Категория | [Неоднозначность](./Категория_Неоднозначность.md)
| Исходный код | [SchemaQualifiedProcCallRule.cs](../../../Rules/Ambiguity/SchemaQualifiedProcCallRule.cs)

## Причина

<p id="descr">Правило срабатывает, если в вызове хранимой процедуры не указана схема.</p>

## Примеры

Некорректно

```sql
EXEC uspGetWhereUsedProductID 819;
```

Корректно

```sql
-- пользовательская хранимая процедура
EXEC dbo.uspGetWhereUsedProductID 819;
-- системные хранимые процедуры
EXEC sp_help;
EXEC sp_who;
```

## Подсказки

💡 Правило не реагирует на системные хранимые процедуры.

💡 Разные пользователи могут иметь разные DEFAULT_SCHEMA, за исключением членов роли sysadmin. Следует всегда указывать схему в вызове хранимой процедуры, потому что схема не должна зависеть от пользователя, который запустит скрипт.
