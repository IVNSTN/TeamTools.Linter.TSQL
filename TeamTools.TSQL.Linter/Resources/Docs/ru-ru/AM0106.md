

# Неоднозначность в определении NULL / NOT NULL столбца

|||
|-|-|
| Id | **AM0106**
| Мнемо | COLUMN_NULLABLE
| Серьёзность | ⚠ Предупреждение
| Категория | [Неоднозначность](./Категория_Неоднозначность.md)
| Исходный код | [NullNotNullColumnRule.cs](../../../Rules/Ambiguity/NullNotNullColumnRule.cs)

## Причина

Правило срабатывает, если NULL или NOT NULL не указаны при объявлении столбца таблицы.
<p id="descr">Укажите явно NULL или NOT NULL.</p>

## Примеры

Некорректно

```sql
CREATE TABLE dbo.Employee (EmployeeId INT);

-- БД с установенной опцией ANSI_NULL_DEFAULT ON
DECLARE @Employee TABLE (EmployeeId INT);
```

Корректно

```sql
CREATE TABLE dbo.Employee (EmployeeId INT NOT NULL);

DECLARE @Employee TABLE (EmployeeId INT NULL);
```

## Подсказки

💡 Не следует полагаться на опцию БД ANSI_NULL_DEFAULT, поскольку она может быть переопределена настройкой подключения ANSI_NULL_DEFAULT. Всегда следует устанавливать NULL или NOT NULL явно, чтобы избежать путаницы.

## Ссылки

[Опция ANSI_NULL_DEFAULT](https://learn.microsoft.com/en-us/sql/t-sql/statements/alter-database-transact-sql-set-options?view=sql-server-ver15#ansi_null_default--on--off-)
