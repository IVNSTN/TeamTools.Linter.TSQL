

# Неоднозначность сортировки полей индекса

|||
|-|-|
| Id | **AM0155**
| Мнемо | INDEX_DIRECTION_AMBIGUOUS
| Серьёзность | ⚠ Предупреждение
| Категория | [Неоднозначность](./Категория_Неоднозначность.md), [Индексы](./Группа_Индексы.md)
| Исходный код | [IndexSortDirectionAmbiguityRule.cs](../../../Rules/Ambiguity/IndexSortDirectionAmbiguityRule.cs)

## Причина

<p id="descr">Правило срабатывает, если список колонок индекса имеет хотя бы одну колонку с DESC и хотя бы одну колонку без указания направления сортировки.</p>

## Examples

Bad

```sql
CREATE NONCLUSTERED INDEX ix_dbo_log_id_log_level ON dbo.log (id, log_level DESC);
```

Good

```sql
CREATE NONCLUSTERED INDEX ix_dbo_log_id_log_level ON dbo.log (id ASC, log_level DESC);
```

## Tips

💡 Не следует вводить в заблуждение читателя. Направление сортировки неочевидно для читателя, если не указано явно. Может быть воспринято неправильно, что DESC действует для всех колонок индекса, если указан в конце списка колонок.
