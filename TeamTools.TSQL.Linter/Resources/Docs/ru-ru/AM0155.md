

# Неоднозначность сортировки столбцов индекса

|||
|-|-|
| Id | **AM0155**
| Мнемо | INDEX_DIRECTION_AMBIGUOUS
| Серьёзность | ⚠ Предупреждение
| Категория | [Неоднозначность](./Категория_Неоднозначность.md), [Индексы](./Группа_Индексы.md)
| Исходный код | [IndexSortDirectionAmbiguityRule.cs](../../../Rules/Ambiguity/IndexSortDirectionAmbiguityRule.cs)

## Причина

Правило срабатывает, если список столбцов индекса имеет хотя бы один столбец с DESC и хотя бы один столбец без указания направления сортировки.
<p id="descr">Укажите направления сортировки всех столбцов.</p>

## Examples

Bad

```sql
CREATE NONCLUSTERED INDEX ix_dbo_log_id_log_level ON dbo.log (id, log_level DESC);
```

Good

```sql
CREATE NONCLUSTERED INDEX ix_dbo_log_id_log_level ON dbo.log (id ASC, log_level DESC);
```

## Tips

💡 Не следует вводить в заблуждение читателя. Направление сортировки неочевидно для читателя, если не указано явно. Может быть воспринято неправильно, что DESC действует для всех столбцов индекса, если указан в конце списка столбцов.
