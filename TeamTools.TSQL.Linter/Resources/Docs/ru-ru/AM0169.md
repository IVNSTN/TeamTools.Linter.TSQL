

# Неуникальный алиас таблицы или подзапроса

|||
|-|-|
| Id | **AM0169**
| Мнемо | NONUNIQUE_TABLE_ALIAS
| Серьёзность | ⚠ Предупреждение
| Категория | [Неоднозначность](./Категория_Неоднозначность.md)
| Исходный код | [UniqueTableAliasRule.cs](../../../Rules/Ambiguity/UniqueTableAliasRule.cs)

## Причина

Правило срабатывает, если в запросе есть повторяющиеся алиасы таблиц или подзапросов.
<p id="descr">Задайте уникальные алиасы таблиц и подзапросов.</p>

## Примеры

Некорректно

```sql
SELECT
    col_a
FROM foo AS t
WHERE NOT EXISTS (SELECT 1 FROM bar AS t WHERE t.id = id)
```

Корректно

```sql
SELECT
    col_a
FROM foo
WHERE NOT EXISTS (SELECT 1 FROM bar AS br WHERE br.id = foo.id)
```

## Подсказки

💡 В запросе со множеством таблиц и подзапросами алиасы к таблицам могут случайно повториться. Несмотря на то что Database Engine в неоднозначных ситуациях что-то да выберет в качестве источника и запрос выполнит, не факт, что этот выбор окажется именно тем, о котором думал автор кода.

💡 Для пересекающихся контекстов придумывайте уникальные алиасы.
