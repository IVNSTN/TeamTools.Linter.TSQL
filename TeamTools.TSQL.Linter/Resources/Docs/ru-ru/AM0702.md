

# Неоднозначность или избыточность определения уникальности индекса

|||
|-|-|
| Id | **AM0702**
| Мнемо | AMBIGUOUS_UNIQ
| Серьёзность | ⚠ Предупреждение
| Категория | [Неоднозначность](./Категория_Неоднозначность.md), [Индексы](./Группа_Индексы.md)
| Исходный код | [AmbiguousUniquenessRule.cs](../../../Rules/Ambiguity/AmbiguousUniquenessRule.cs)

## Причина

Правило срабатывает, если столбцы, по которым уже создан уникальный индекс, включаются в состав более широкого уникального индекса.
<p id="descr">Удалите столбец из определения индекса.</p>

## Примеры

Некорректно

```sql
DECLARE @t TABLE
(
    id      INT PRIMARY KEY
    , title VARCHAR(30)
    , dt    DATETIME
    , UNIQUE (title)
    , UNIQUE (title, id, dt)
);
```

Корректно

```sql
DECLARE @t TABLE
(
    id    INT PRIMARY KEY,
    title VARCHAR(30),
    dt    DATETIME,
    UNIQUE (title),
    UNIQUE(dt)
)
```

## Подсказки

💡 Несколько индексов, помеченных как уникальные, могут быть созданы для устранения проблем с производительностью. Однако, включение туда заведомо уникального сочетания столбцов всё равно должно настораживать, на эти индексы стоит обратить внимание.
