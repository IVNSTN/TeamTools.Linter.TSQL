

# Модификация или удаление объекта без указания схемы

|||
|-|-|
| Id | **AM0740**
| Мнемо | ALTER_DROP_NEEDS_SCHEMA
| Серьёзность | ⚠ Предупреждение
| Категория | [Неоднозначность](./Категория_Неоднозначность.md)
| Исходный код | [SchemaQualifiedAlterDropRule.cs](../../../Rules/Ambiguity/SchemaQualifiedAlterDropRule.cs)

## Причина

<p id="descr">Правило срабатывает, если не указана схема в инструкциях модификации или удаления объектов.</p>

## Примеры

Некорректно

```sql
ALTER TABLE bar ADD col INT;
GO

ALTER PROC bar
AS
    RETURN 1;
GO

DROP SEQUENCE bar

DROP TYPE bar
```

Корректно

```sql
ALTER TABLE foo.bar ADD col INT;
GO

ALTER PROC foo.bar
AS
    RETURN 1;
GO

DROP SEQUENCE foo.bar

DROP TYPE foo.bar
```

## Подсказки

💡 Разные пользователи могут иметь разные DEFAULT_SCHEMA, за исключением членов роли sysadmin. Следует всегда указывать схему в DDL скриптах, потому что схема не должна зависеть от пользователя, который запустит скрипт.

## Ссылки

[ALTER USER. Замечания.](https://learn.microsoft.com/en-us/sql/t-sql/statements/alter-user-transact-sql?view=sql-server-ver15&redirectedfrom=MSDN#remarks)
