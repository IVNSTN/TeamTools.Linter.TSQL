

# Ограничение содержит вызовы CAST вместо CONVERT

|||
|-|-|
| Id | **CD0216**
| Мнемо | CAST_IN_CONSTRAINT
| Серьёзность | ⚠ Предупреждение
| Категория | [НепрерывнаяПоставка](./Категория_НепрерывнаяПоставка.md)
| Исходный код | [CastInConstraintRule.cs](../../../Rules/ContinuousDeployment/CastInConstraintRule.cs)

## Причина

Правило срабатывает, если в ограничениях `CHECK` или `DEFAULT` используется `CAST`.
<p id="descr">Замените CAST на CONVERT.</p>

## Примеры

Некорректно

```sql
CREATE TABLE foo
(
    bar INT NOT NULL DEFAULT CAST('123' AS INT)
);
```

Корректно

```sql
CREATE TABLE foo
(
    bar INT NOT NULL DEFAULT CONVERT(INT, '123')
);
```

## Подсказки

💡 На временные таблицы (#) и табличные переменные (@) не срабатывает.

💡 DacFx при публикации конвертирует `CAST` в `CONVERT` и так получается "вечный дифф".
