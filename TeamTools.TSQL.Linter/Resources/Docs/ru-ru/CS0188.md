

# Управление контекстом выполнения в триггере

|||
|-|-|
| Id | **CS0188**
| Мнемо | USER_CONTEXT_CONTROL_IN_TRIGGER
| Серьёзность | ⚠ Предупреждение
| Категория | [СомнительноеКодирование](./Категория_СомнительноеКодирование.md), [Триггеры](./Группа_Триггеры.md)
| Исходный код | [UserContextControlInTriggerRule.cs](../../../Rules/CodeSmell/UserContextControlInTriggerRule.cs)

## Причина

Правило срабатывает, если в триггере происходит управление контекстом выполнения.
<p id="descr">Удалите управление контекстом выполнения.</p>

## Примеры

Некорректно

```sql
CREATE TRIGGER trg ON dbo.foo
WITH EXECUTE AS 'user'
AFTER UPDATE
AS
BEGIN
    ...
END;
```

Корректно

```sql
CREATE TRIGGER trg ON dbo.foo
AFTER UPDATE
AS
BEGIN
    ...
END;
```
