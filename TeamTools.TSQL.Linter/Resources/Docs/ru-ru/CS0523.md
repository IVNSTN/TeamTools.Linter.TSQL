

# Неожиданное шифрование кода

|||
|-|-|
| Id | **CS0523**
| Мнемо | CODE_ENCRYPTED
| Серьёзность | ⚠ Предупреждение
| Категория | [СомнительноеКодирование](./Категория_СомнительноеКодирование.md)
| Исходный код | [CodeEncryptedRule.cs](../../../Rules/CodeSmell/CodeEncryptedRule.cs)

## Причина

Правило срабатывает, если обнаружено шифрование исходного кода объекта.
<p id="descr">Удалите опцию WITH ENCRYPTION.</p>

## Примеры

Некорректно

```sql
CREATE VIEW dbo.my_view
WITH ENCRYPTION
AS
...
```

Корректно

```sql
CREATE VIEW dbo.my_view
AS
...
```

## Подсказки

💡 Исходный код лежит в репозитории и у каждого разработчика локально в открытом виде. Шифрование нередко усложняет жизнь лишь при обслуживании базы данных и отладке кода.

💡 Важно помнить, что зашифрованные объекты SQL можно легко дешифровать с помощью сторонних инструментов, поэтому не рекомендуется использовать эту опцию для защиты особо конфиденциальной информации или кода.

💡 Ограничить действия с объектами лучше назначением прав доступа для группы пользователей или конкретного пользователя.

## Ссылки

[Использование параметра WITH ENCRYPTION](https://learn.microsoft.com/ru-ru/sql/t-sql/statements/create-procedure-transact-sql?view=sql-server-ver16#Encrypt)

[GRANT, разрешения объекта(VIEW DEFINITION)](https://learn.microsoft.com/ru-ru/sql/t-sql/statements/grant-object-permissions-transact-sql?view=sql-server-ver16#remarks)

[REVOKE, отмена разрешения(VIEW DEFINITION)](https://learn.microsoft.com/ru-ru/sql/t-sql/statements/revoke-object-permissions-transact-sql?view=sql-server-ver16#remarks)
