

# Неожиданное управление опциями SET

|||
|-|-|
| Id | **CS0747**
| Мнемо | GENERAL_SET_CONTROL
| Серьёзность | ⚠ Предупреждение
| Категория | [СомнительноеКодирование](./Категория_СомнительноеКодирование.md)
| Исходный код | [GeneralSetOptionRule.cs](../../../Rules/CodeSmell/GeneralSetOptionRule.cs)

## Причина

Правило срабатывает, если присутствует управление опциями вроде DEADLOCK_PRIORITY, которое не является ожидаемым в бизнес-логике.
<p id="descr">Проверьте необходимость управления SET опциями.</p>

## Примеры

Некорректно

```sql
SET NOCOUNT ON;
SET DEADLOCK_PRIORITY LOW;
...
```

Корректно

```sql
SET NOCOUNT ON;
...
```

## Подсказки

💡 Управление опциями вроде DEADLOCK_PRIORITY не является чем-то ожидаемым в бизнес-логике продукта.

## Ссылки

[SET DEADLOCK_PRIORITY](https://learn.microsoft.com/ru-ru/sql/t-sql/statements/set-deadlock-priority-transact-sql?view=sql-server-ver16)
