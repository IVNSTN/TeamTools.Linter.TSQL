

# Identity insert is suspicious

|||
|-|-|
| Id | **CS0748**
| Мнемо | IDENTITY_INSERT
| Серьёзность | ⚠ Предупреждение
| Категория | [СомнительноеКодирование](./Категория_СомнительноеКодирование.md)
| Исходный код | [IdentityInsertRule.cs](../../../Rules/CodeSmell/IdentityInsertRule.cs)

## Причина

<p id="descr">Вставлять конкретные значения в IDENTITY-колонку - это очень своеобразный подход к решению поставленной задачи. Такой подход плохо совмещается с высокой нагрузкой и конкуренцией за вставку и чтение. Часть задач, которые можно было бы решить через IDENTITY_INSERT ON, возможно также решить через вставку VALUES или рассчитывать идентификатор с помощью оконной функции ROW_NUMBER(). Так лучше поступать даже с временными таблицами и табличными переменными. Попытки рулить IDENTITY-колонкой на реальных, общедоступных таблицах системы больше похоже на баг проектирования и потенциальную уязвимость - такой код лучше переписать.</p>
