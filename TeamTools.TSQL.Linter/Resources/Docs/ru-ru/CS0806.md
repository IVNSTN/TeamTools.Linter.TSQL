

# Использование IDENTITY_INSERT на временной таблице

|||
|-|-|
| Id | **CS0806**
| Мнемо | IDENTITY_INSERT_TEMP_TABLE
| Серьёзность | ℹ Подсказка
| Категория | [СомнительноеКодирование](./Категория_СомнительноеКодирование.md)
| Исходный код | [IdentityInsertOnTempTableRule.cs](../../../Rules/CodeSmell/IdentityInsertOnTempTableRule.cs)

## Причина

Правило срабатывает, если IDENTITY_INSERT используется на временной таблице.
<p id="descr">Удалите IDENTITY_INSERT.</p>

## Примеры

Некорректно

```sql
CREATE TABLE #tmp
(
    id     INT          IDENTITY(1, 1) NOT NULL
    , name VARCHAR(100) NOT NULL
);

SET IDENTITY_INSERT #tmp ON;

INSERT INTO #tmp (id, name)
VALUES (5, 'name');

SET IDENTITY_INSERT #tmp OFF;
```

Корректно

```sql
CREATE TABLE #tmp
(
    id     INT          NOT NULL
    , name VARCHAR(100) NOT NULL
);

INSERT INTO #tmp (id, name)
VALUES (5, 'name');
```
