

# Пропущена парная конструкция управления транзакцией

|||
|-|-|
| Id | **CS0920**
| Мнемо | UNPAIRED_TRAN_STATEMENT
| Серьёзность | ℹ Подсказка
| Категория | [СомнительноеКодирование](./Категория_СомнительноеКодирование.md)
| Исходный код | [UnPairedTransactionInstructionRule.cs](../../../Rules/CodeSmell/UnPairedTransactionInstructionRule.cs)

## Причина

Правило срабатывает, если пропущена парная конструкция управления транзакцией.
<p id="descr">Укажите парную конструкцию управления транзакцией.</p>

## Примеры

Некорректно

```sql
BEGIN TRAN trn

DELETE dbo.foo WHERE bar = 1
```

Корректно

```sql
BEGIN TRAN trn;

DELETE dbo.foo WHERE bar = 1;

IF @@TRANCOUNT > 0
    ROLLBACK TRAN trn;
```

## Подсказки

💡 Правило проверяет ROLLBACK/COMMIT BEGIN/SAVE TRAN.
