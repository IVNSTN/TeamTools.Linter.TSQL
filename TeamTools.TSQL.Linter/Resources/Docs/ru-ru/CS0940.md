

# Предикат цикла не изменяется внутри цикла

|||
|-|-|
| Id | **CS0940**
| Мнемо | LOOP_PREDICATE_IMMUTABLE
| Серьёзность | ℹ Подсказка
| Категория | [СомнительноеКодирование](./Категория_СомнительноеКодирование.md)
| Исходный код | [LoopPredicateImmutableRule.cs](../../../Rules/CodeSmell/LoopPredicateImmutableRule.cs)

## Причина

Правило срабатывает, если условие WHILE содержит переменные, которые не изменяются в теле цикла.
<p id="descr">Проверьте переменные из условия цикла.</p>

## Примеры

Некорректно

```sql
DECLARE @rid   INT = 1;
DECLARE @limit INT = 10;
WHILE(@rid <= @limit)
BEGIN
...
END
```

Корректно

```sql
DECLARE @rid   INT = 1;
DECLARE @limit INT = 10;
WHILE(@rid <= @limit)
BEGIN
...
 SET @rid += 1;
END
```

## Подсказки

💡 Правило не реагирует на предикаты только из литералов вида 1=1.

## Ссылки

[Цикл WHILE](https://learn.microsoft.com/ru-ru/sql/t-sql/language-elements/while-transact-sql?view=sql-server-ver16)
