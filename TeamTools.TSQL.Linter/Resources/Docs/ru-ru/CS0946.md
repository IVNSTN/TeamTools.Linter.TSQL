

# Размер строкового значения слишком велик

|||
|-|-|
| Id | **CS0946**
| Мнемо | LITERAL_OVERSIZE
| Серьёзность | ⚠ Предупреждение
| Категория | [СомнительноеКодирование](./Категория_СомнительноеКодирование.md)
| Исходный код | [LiteralOversizeRule.cs](../../../Rules/CodeSmell/LiteralOversizeRule.cs)

## Причина

Правило срабатывает, если строка присваивается переменной, размер которой не позволяет её сохранить.
<p id="descr">Определите подходящий размер переменной.</p>

## Примеры

Некорректно

```sql
DECLARE @var CHAR(1);
SELECT ISNULL(@var, '"NULL"');
```

Корректно

```sql
DECLARE @var CHAR(1);
SELECT ISNULL(CAST(@var AS CHAR(6)), '"NULL"');
```

## Подсказки

💡 Если тип переменной задан как VARCHAR или CHAR без указания размерности, то считается, что VARCHAR имеет размер 30 символов, а CHAR  1 символ.

💡 Что размерность нужно указывать контролирует правило [CS0111](./CS0111.md).

💡 Функция ISNULL усекает второй параметр до размера первого. Тип, размерность результата ISNULL всегда равны типу, размерности первого параметра. В приведённом примере вернётся '"', а не '"NULL"', как ожидалось.

## Ссылки

[Функция - ISNULL](https://learn.microsoft.com/ru-ru/sql/t-sql/functions/isnull-transact-sql?view=sql-server-ver16)
