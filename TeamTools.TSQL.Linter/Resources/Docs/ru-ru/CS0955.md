

# Бесконечный цикл без условия завершения

|||
|-|-|
| Id | **CS0955**
| Мнемо | LOOP_INFINITE_MISSING_BREAK
| Серьёзность | ⚠ Предупреждение
| Категория | [СомнительноеКодирование](./Категория_СомнительноеКодирование.md)
| Исходный код | [InfiniteLoopHasNoBreakRule.cs](../../../Rules/CodeSmell/InfiniteLoopHasNoBreakRule.cs)

## Причина

Правило срабатывает, если цикл WHILE объявлен как бесконечный, но в теле цикла нет условия завершения.
<p id="descr">Определите условие завершения цикла.</p>

## Примеры

Некорректно

```sql
WHILE(1=1)
BEGIN
...
    FROM my_table AS T
    WHERE T.Id > @Id;
END
```

Корректно

```sql
WHILE(1=1)
BEGIN
...
    FROM my_table AS T
    WHERE T.Id > @Id;

IF @@ROWCOUNT = 0
    BREAK;
...
END
```

## Подсказки

💡 Команды выхода из цикла: **BREAK**, **RETURN**, **THROW**.

## Ссылки

[Цикл WHILE](https://learn.microsoft.com/ru-ru/sql/t-sql/language-elements/while-transact-sql?view=sql-server-ver16)
