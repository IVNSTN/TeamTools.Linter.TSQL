

# Курсор должен быть объявлен как FORWARD_ONLY или FAST_FORWARD

|||
|-|-|
| Id | **CS0982**
| Мнемо | CURSOR_FORWARD_ONLY
| Серьёзность | ⚠ Предупреждение
| Категория | [СомнительноеКодирование](./Категория_СомнительноеКодирование.md), [Курсоры](./Группа_Курсоры.md)
| Исходный код | [CursorForwardOnlyRule.cs](../../../Rules/CodeSmell/CursorForwardOnlyRule.cs)

## Причина

Правило срабатывает, если курсор просматривается только в одном направлении и не объявлен как FORWARD_ONLY или FAST_FORWARD.
<p id="descr">Укажите опцию FORWARD_ONLY или FAST_FORWARD.</p>

## Примеры

Некорректно

```sql
DECLARE
    @cr CURSOR

SET @cr = CURSOR LOCAL FOR -- non forward-only
    SELECT id
    FROM foo

OPEN @cr

FETCH NEXT FROM @cr -- forward-only

CLOSE @cr
DEALLOCATE @cr
```

Корректно

```sql
DECLARE
    @cr CURSOR

SET @cr = CURSOR LOCAL FORWARD_ONLY FOR
    SELECT id
    FROM foo

OPEN @cr

FETCH NEXT FROM @cr

CLOSE @cr
DEALLOCATE @cr
```
