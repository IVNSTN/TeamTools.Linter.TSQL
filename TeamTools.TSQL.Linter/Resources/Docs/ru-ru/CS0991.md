

# Использование WAITFOR DELAY не рекомендуется

|||
|-|-|
| Id | **CS0991**
| Мнемо | WAITFOR_DELAY_USED
| Серьёзность | ℹ Подсказка
| Категория | [СомнительноеКодирование](./Категория_СомнительноеКодирование.md)
| Исходный код | [WaitForDelayUsedRule.cs](../../../Rules/CodeSmell/WaitForDelayUsedRule.cs)

## Причина

Правило срабатывает, если используется инструкция WAITFOR DELAY.
<p id="descr">Удалите инструкцию WAITFOR DELAY.</p>

## Примеры

Некорректно

```sql
CREATE PROC dbo.test
AS
BEGIN
    WAITFOR DELAY '00:01'
    RETURN 1
END
```

Корректно

```sql
CREATE PROC dbo.test
AS
BEGIN
    RETURN 1
END
```

## Подсказки

💡 В реализации ожиданий, например, для повторных попыток обработки случаев взаимных блокировок, может быть потребность. В таком случае добавьте нужную хранимую процедуру в исключения.

💡 Ожидание асинхронных механизмов вроде Service Broker - не задача кода БД.
