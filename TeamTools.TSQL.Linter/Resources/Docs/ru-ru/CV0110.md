
# Соединение таблиц без использования JOIN

|||
|-|-|
| Id | **CV0110**
| Мнемо | OLD_SCHOOL_JOIN
| Серьёзность | ⚠ Предупреждение
| Категория | [СоглашенияПоКодированию](./Категория_СоглашенияПоКодированию.md)
| Исходный код | [JoinOptionsRule.cs](../../../Rules/CodingConvention/JoinOptionsRule.cs)

## Причина

Правило срабатывает, если в коде обнаружено соединение таблиц при помощи перечисления (через запятую).
<p id="descr">Перепишите запрос, используя 'JOIN'.</p>

## Примеры

Некорректно

```sql
SELECT
    r.long_name
    , CASE WHEN m.method = '3071' THEN 'LIFO' ELSE 'FIFO' END
FROM dbo.a_tax_methods AS m
     , taxes.tax_residence AS r
WHERE m.treaty = 123
    AND m.residence = r.residence
    AND m.year = YEAR(GETDATE());
```

Корректно

```sql
SELECT
    r.long_name
    , CASE WHEN m.method = '3071' THEN 'LIFO' ELSE 'FIFO' END
FROM dbo.a_tax_methods AS m
INNER JOIN taxes.tax_residence AS r
    ON m.residence = r.residence
WHERE m.treaty = 123
    AND m.year = YEAR(GETDATE());
```
