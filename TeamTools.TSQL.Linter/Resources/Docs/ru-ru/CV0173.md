
# Возврат литерала для EXISTS

|||
|-|-|
| Id | **CV0173**
| Мнемо | EXISTS_NONLITERAL_SELECT
| Серьёзность | ⚠ Предупреждение
| Категория | [СоглашенияПоКодированию](./Категория_СоглашенияПоКодированию.md)
| Исходный код | [ExistsHasNonLiteralSelectElementRule.cs](../../../Rules/CodingConvention/ExistsHasNonLiteralSelectElementRule.cs)

## Причина

Правило срабатывает, если для возвращаемого значения `EXISTS (SELECT ...)` выполняются какие-либо вычисления или перечислены конкретные столбцы.
<p id="descr">Используйте возврат литерала для 'EXISTS'.</p>

## Примеры

Некорректно

```sql
IF NOT EXISTS (SELECT zzz.xxx WHERE 0 = 1)
    SELECT a
    FROM t
    WHERE EXISTS (SELECT a.id)
        OR EXISTS (SELECT tt.name AS nm FROM tt WHERE tt.name = 'asfd')
        AND NOT EXISTS (SELECT b FROM yy);
```

Корректно

```sql
IF NOT EXISTS (SELECT 0 WHERE 0 = 1)
    SELECT a
    FROM t
    WHERE EXISTS (SELECT 1)
        OR EXISTS (SELECT 0 FROM tt WHERE tt.name = 'asfd')
        AND NOT EXISTS (SELECT NULL FROM yy);
```
