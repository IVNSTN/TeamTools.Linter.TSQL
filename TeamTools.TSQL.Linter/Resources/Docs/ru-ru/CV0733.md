

# DECLARE внутри блоков кода

|||
|-|-|
| Id | **CV0733**
| Мнемо | DECLARE_IN_BLOCK
| Серьёзность | ⚠ Предупреждение
| Категория | [СоглашенияПоКодированию](./Категория_СоглашенияПоКодированию.md)
| Исходный код | [DeclareInCodeBlockRule.cs](../../../Rules/CodingConvention/DeclareInCodeBlockRule.cs)

## Причина

Правило срабатывает, если DECLARE расположен внутри блоков кода (IF, WHILE, TRY-CATCH и т.п.).
<p id="descr">Расположите DECLARE перед блоками кода.</p>

## Примеры

Некорректно

```sql
BEGIN TRY
    WHILE @a > 0
    BEGIN
        DECLARE @tbl TABLE (id INT)
    END
END TRY
BEGIN CATCH
    DECLARE @err_msg VARCHAR(100)
END CATCH
```

Корректно

```sql
DECLARE
    @tbl TABLE (id INT)
    , @err_msg VARCHAR(100);

BEGIN TRY
    WHILE @a > 0
    BEGIN
        ...
    END
END TRY
BEGIN CATCH
    ...
END CATCH
```
