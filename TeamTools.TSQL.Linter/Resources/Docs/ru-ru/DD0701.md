

# Уникальный столбец включён в ограничение уникальности

|||
|-|-|
| Id | **DD0701**
| Мнемо | UID_UNIQ_QUESTIONED
| Серьёзность | ℹ Подсказка
| Категория | [ДизайнБазДанных](./Категория_ДизайнБазДанных.md)
| Исходный код | [UidUniquenessQuestionedRule.cs](../../../Rules/DatabaseDesign/UidUniquenessQuestionedRule.cs)

## Причина

Правило срабатывает, если уникальный столбец включён в ограничение уникальности.
<p id="descr">Удалите столбец из ограничения уникальности.</p>

## Примеры

Некорректно

```sql
CREATE TABLE dbo.foo
(
    id UNIQUEIDENTIFIER NOT NULL DEFAULT NEWID()
    , dt DATETIME
    , CONSTRAINT PK PRIMARY KEY (id)
);
GO

CREATE UNIQUE NONCLUSTERED INDEX IX ON dbo.foo (dt, id);
GO
```

Корректно

```sql
CREATE TABLE dbo.foo
(
    id UNIQUEIDENTIFIER NOT NULL DEFAULT NEWID()
    , dt DATETIME
    , CONSTRAINT PK PRIMARY KEY (id)
);
GO

CREATE UNIQUE NONCLUSTERED INDEX IX ON dbo.foo (dt);
GO
```
