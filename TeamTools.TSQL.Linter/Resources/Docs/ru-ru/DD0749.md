

# Столбец переменной длины малого размера

|||
|-|-|
| Id | **DD0749**
| Мнемо | SHORT_VAR_LENGTH_COL
| Серьёзность | ℹ Подсказка
| Категория | [ДизайнБазДанных](./Категория_ДизайнБазДанных.md)
| Исходный код | [ShortVariableLengthColumnRule.cs](../../../Rules/DatabaseDesign/ShortVariableLengthColumnRule.cs)

## Причина

Правило срабатывает, если столбец переменной длины имеет малый размер.
<p id="descr">Используйте столбец фиксированной длины.</p>

## Примеры

Некорректно

```sql
CREATE TABLE dbo.foo
(
    id INT NOT NULL
    , code VARCHAR(2) NOT NULL
);
```

Корректно

```sql
CREATE TABLE dbo.foo
(
    id INT NOT NULL
    , code CHAR(2) NOT NULL
);
```

## Подсказки

💡 Для управления столбцами переменной длины СУБД сохраняет дополнительную информацию с указанием фактической длины размерностью 2 байта, и для столбца VARCHAR(2) на диске выделяется в два раза больше места, чем для CHAR(2).

## Ссылки

[Оценка размера кластеризованного индекса](https://learn.microsoft.com/ru-ru/sql/relational-databases/databases/estimate-the-size-of-a-clustered-index?view=sql-server-ver16)
