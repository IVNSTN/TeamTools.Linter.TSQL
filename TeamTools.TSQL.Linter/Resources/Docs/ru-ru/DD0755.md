

# Столбец небольшого размера должен быть NOT NULL

|||
|-|-|
| Id | **DD0755**
| Мнемо | SMALL_SIZE_COL_NULL
| Серьёзность | ℹ Подсказка
| Категория | [ДизайнБазДанных](./Категория_ДизайнБазДанных.md)
| Исходный код | [SmallSizeColumnNullableRule.cs](../../../Rules/DatabaseDesign/SmallSizeColumnNullableRule.cs)

## Причина

Правило срабатывает, если столбец небольшого размера допускает NULL.
<p id="descr">Укажите свойство NOT NULL.</p>

## Примеры

Некорректно

```sql
CREATE TABLE dbo.foo
(
    code CHAR(2) NULL
    , is_enabled BIT
);
```

Корректно

```sql
CREATE TABLE dbo.foo
(
    code CHAR(2) NOT NULL
    , is_enabled BIT NOT NULL
);
```

## Подсказки

💡 Для столбцов выбираются небольшие типы данных, чтобы сэкономить дисковое пространство, выделенное для хранения. Если в таком столбце допускаются значения NULL, то СУБД выделит дополнительные биты (округленные до целых байт) для обозначения значений NULL.

💡 Правило игнорирует временные таблицы, табличные переменные и SPARSE столбцы.

💡 Правило проверяет:

- BIT
- TINYINT
- VARCHAR(N <= 6)
- CHAR(N <= 6)
- NVARCHAR(N <= 6)
- NCHAR(N <= 6)

## Ссылки

[Оценка размера кластеризованного индекса](https://learn.microsoft.com/ru-ru/sql/relational-databases/databases/estimate-the-size-of-a-clustered-index?view=sql-server-ver16)
