

# Избыточное использование LOCK_ESCALATION

|||
|-|-|
| Id | **DD0758**
| Мнемо | REDUNDANT_TABLE_LOCK_ESCALATION
| Серьёзность | ⚠ Предупреждение
| Категория | [ДизайнБазДанных](./Категория_ДизайнБазДанных.md)
| Исходный код | [RedundantLockEscalationSetRule.cs](../../../Rules/DatabaseDesign/RedundantLockEscalationSetRule.cs)

## Причина

Правило срабатывает, если использование LOCK_ESCALATION избыточно.
<p id="descr">Удалите LOCK_ESCALATION.</p>

## Примеры

Некорректно

```sql
CREATE TABLE dbo.foo
(
    id      INT  NOT NULL,
    date    DATE NOT NULL
);
GO

ALTER TABLE dbo.foo SET (LOCK_ESCALATION = TABLE);
GO
```

Корректно

```sql
CREATE TABLE dbo.foo
(
    id      INT  NOT NULL,
    date    DATE NOT NULL
);
GO

ALTER TABLE dbo.foo SET (LOCK_ESCALATION = DISABLE);
GO
```

## Ссылки

[LOCK_ESCALATION](https://learn.microsoft.com/ru-ru/sql/t-sql/statements/alter-table-transact-sql?view=sql-server-ver16#set--lock_escalation---auto--table--disable--)
