

# SPARSE столбец в in-memory таблице

|||
|-|-|
| Id | **DD0774**
| Мнемо | SPARSE_COL_INMEMORY
| Серьёзность | ⚠ Предупреждение
| Категория | [ДизайнБазДанных](./Категория_ДизайнБазДанных.md), [ИнМемори](./Группа_ИнМемори.md)
| Исходный код | [SparseColumnInMemoryRule.cs](../../../Rules/DatabaseDesign/SparseColumnInMemoryRule.cs)

## Причина

Правило срабатывает, если опция SPARSE указана для столбца в in-memory таблице.
<p id="descr">Удалите опцию SPARSE.</p>

## Примеры

Некорректно

```sql
CREATE TABLE dbo.foo
(
    id     BIGINT   NOT NULL
    , name CHAR(20) SPARSE NULL
) WITH (MEMORY_OPTIMIZED = ON)
```

Корректно

```sql
CREATE TABLE dbo.foo
(
    id     BIGINT   NOT NULL
    , name CHAR(20) NULL
) WITH (MEMORY_OPTIMIZED = ON)
```

## Ссылки

[Накладные расходы при обновлении SPARSE столбцов](https://learn.microsoft.com/ru-ru/sql/relational-databases/tables/use-sparse-columns?view=sql-server-ver16#in-memory-overhead-required-for-updates-to-sparse-columns)
