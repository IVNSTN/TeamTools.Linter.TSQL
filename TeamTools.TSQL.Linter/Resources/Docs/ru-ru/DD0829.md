

# Внешние ключи с временными таблицами

|||
|-|-|
| Id | **DD0829**
| Мнемо | FK_ON_TMP
| Серьёзность | ⚠ Предупреждение
| Категория | [ДизайнБазДанных](./Категория_ДизайнБазДанных.md)
| Исходный код | [ForeignKeyOnTempTableRule.cs](../../../Rules/DatabaseDesign/ForeignKeyOnTempTableRule.cs)

## Причина

Правило срабатывает, если внешние ключи указывают на временную таблицу, или создаются на временной таблице.
<p id="descr">Удалите внешние ключи.</p>

## Примеры

Некорректно

```sql
ALTER TABLE #calculations
ADD CONSTRAINT fk1 FOREIGN KEY (foo_id) REFERENCES dbo.foo(id);

ALTER TABLE dbo.foo
ADD CONSTRAINT fk2 FOREIGN KEY (type_id) REFERENCES #types(id);
```

Корректно

```sql
ALTER TABLE dbo.foo
ADD CONSTRAINT fk2 FOREIGN KEY (type_id) REFERENCES foo_types(id);
```

