

# Столбец включён в индекс более одного раза

|||
|-|-|
| Id | **DD0909**
| Мнемо | INDEX_DUP_COLUMN
| Серьёзность | ⚠ Предупреждение
| Категория | [ДизайнБазДанных](./Категория_ДизайнБазДанных.md), [Индексы](./Группа_Индексы.md)
| Исходный код | [UniqueColumnInIndexDefinitionRule.cs](../../../Rules/DatabaseDesign/UniqueColumnInIndexDefinitionRule.cs)

## Причина

Правило срабатывает, если столбец включён в индекс более одного раза.
<p id="descr">Удалите дубликаты столбца из определения индекса.</p>

## Примеры

Некорректно

```sql
CREATE TABLE dbo.foo
(
    id          INT NOT NULL PRIMARY KEY
    , parent_id INT NULL
    , name      VARCHAR(10) NOT NULL
    , sect_num  TINYINT NOT NULL
) ON partition_fn(sect_num);
GO
CREATE NONCLUSTERED INDEX IX_parent_id ON dbo.foo(parent_id, parent_id);
```

Корректно

```sql
CREATE TABLE dbo.foo
(
    id          INT NOT NULL PRIMARY KEY
    , parent_id INT NULL
    , name      VARCHAR(10) NOT NULL
    , sect_num  TINYINT NOT NULL
) ON partition_fn(sect_num);
GO
CREATE NONCLUSTERED INDEX IX_parent_id ON dbo.foo(parent_id);
```
