

# Тип данных не рекомендован для включения в кластерный индекс

|||
|-|-|
| Id | **DD0998**
| Мнемо | BAD_TYPE_FOR_CLUSTERED_IDX
| Серьёзность | ℹ Подсказка
| Категория | [ДизайнБазДанных](./Категория_ДизайнБазДанных.md), [Индексы](./Группа_Индексы.md)
| Исходный код | [BadTypeForClusteredIndexRule.cs](../../../Rules/DatabaseDesign/BadTypeForClusteredIndexRule.cs)

## Причина

Правило срабатывает, если в состав кластерного индекса входят столбцы строковых типов большой размерности или числовых типов с десятичной частью.
<p id="descr">Используйте столбцы иных типов для включения в кластерный индекс.</p>

## Примеры

Некорректно

```sql
CREATE TABLE dbo.foo
(
    id      VARCHAR(MAX) PRIMARY KEY 
    , value FLOAT
)
```

Корректно

```sql
CREATE TABLE dbo.foo
(
    id      VARCHAR(20) PRIMARY KEY 
    , value FLOAT
)
```

## Подсказки

💡 Правило игнорирует COLUMNSTORE индексы.

💡 При редактировании столбцов включённых в индекс происходит перемещение строк с одной страницы индекса на другую, что может приводить к снижению производительности.
