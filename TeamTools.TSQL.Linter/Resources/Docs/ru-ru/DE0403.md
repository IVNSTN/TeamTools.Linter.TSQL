
# Устаревшая инструкция TSQL

|||
|-|-|
| Id | **DE0403**
| Мнемо | DEPRECATED_INSTRUCTION
| Серьёзность | ⚠ Предупреждение
| Категория | [Устаревание](./Категория_Устаревание.md)
| Исходный код | [DeprecatedInstructionRule.cs](../../../Rules/Deprecation/DeprecatedInstructionRule.cs)

## Причина

Правило срабатывает, если в коде обнаружено использование устаревших инструкций или синтаксиса.
<p id="descr">Замените устаревшие инструкции или синтаксис.</p>

## Примеры

Некорректно

```sql
DROP INDEX table.idx
GRANT/REVOKE/DENY ALL
SETUSER
SET ROWCOUNT
GROUP BY ALL, COMPUTE BY
```

Корректно

```sql
DROP INDEX idx ON table
перечень конкретных привилегий
EXECUTE AS или REVERT
TOP или ограничения WHERE
не используйте GROUP BY ALL, COMPUTE BY
```

## Ссылки

Перечень устаревших элементов для:

- [2019](https://docs.microsoft.com/en-us/sql/database-engine/deprecated-database-engine-features-in-sql-server-version-15?view=sql-server-ver15)
- [2017](https://docs.microsoft.com/en-us/sql/database-engine/deprecated-database-engine-features-in-sql-server-2017?view=sql-server-ver15)
- [2016](https://docs.microsoft.com/en-us/sql/database-engine/deprecated-database-engine-features-in-sql-server-2016?view=sql-server-ver15)
