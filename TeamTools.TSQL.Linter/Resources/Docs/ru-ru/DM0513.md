

# Управление статистикой из кода

|||
|-|-|
| Id | **DM0513**
| Мнемо | STATISTICS_MANAGEMENT
| Серьёзность | ⚠ Предупреждение
| Категория | [ОбслуживаниеБазДанных](./Категория_ОбслуживаниеБазДанных.md)
| Исходный код | [StatisticsManagementRule.cs](../../../Rules/DatabaseMaintenance/StatisticsManagementRule.cs)

## Причина

Правило срабатывает, если в коде обнаружена команда управления статистикой.
<p id="descr">Удалите команду управления статистикой.</p>

## Примеры

Некорректно

```sql
CREATE STATISTICS asdf ON dbo.foo(bar);

DROP STATISTICS stat.dbo.foo;
```

## Подсказки

💡 Статистика относится к зоне эксплуатации, а не написания исходного кода.

💡 Для служебных и административных хранимых процедур выбирайте специально отведенные для этого схемы и базы данных.

💡 Иметь такой код опасно, потому что рядовой пользователь продукта, за счет получения доступа к некой интерфейсной хранимой процедуре, может прямо или косвенно получить доступ к управлению СУБД, что нежелательно. Такой доступ должен быть только у ДБА.
