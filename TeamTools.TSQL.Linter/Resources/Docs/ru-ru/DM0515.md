

# Удаление таблицы из кода

|||
|-|-|
| Id | **DM0515**
| Мнемо | DROPPING_TABLES
| Серьёзность | ⚠ Предупреждение
| Категория | [ОбслуживаниеБазДанных](./Категория_ОбслуживаниеБазДанных.md)
| Исходный код | [TableDropRule.cs](../../../Rules/DatabaseMaintenance/TableDropRule.cs)

## Причина

Правило срабатывает, если в коде обнаружена команда DROP TABLE для персистентной таблицы.
<p id="descr">Удалите DROP TABLE или используйте временную таблицу/переменную.</p>

## Примеры

Некорректно

```sql
DROP TABLE dbo.main_data
```

Корректно

```sql
DROP TABLE #main_data
```

## Подсказки

💡 Удаление временных таблиц (#) допустимо.

💡 Для служебных и административных хранимых процедур выбирайте специально отведенные для этого схемы и базы данных.

💡 Иметь такой код опасно, потому что рядовой пользователь продукта, за счет получения доступа к некой интерфейсной хранимой процедуре, может прямо или косвенно получить доступ к управлению СУБД, что нежелательно. Такой доступ должен быть только у ДБА.
