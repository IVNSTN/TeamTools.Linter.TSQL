
# Определение параметров в sp_executesql не соответствует переданным параметрам

|||
|-|-|
| Id | **FA0178**
| Мнемо | SP_EXECUTESQL_PARAMS_MISMATCH
| Серьёзность | ⛔ Ошибка
| Категория | [Сбой](./Категория_Сбой.md)
| Исходный код | [SpExecuteParamDefinitionMatchRule.cs](../../../Rules/Failure/SpExecuteParamDefinitionMatchRule.cs)

## Причина

Правило срабатывает, если в вызове `sp_executesql` число параметров или их имена не совпадают с тем, как эти параметры объявлены для вызываемого динамического кода.
<p id="descr">Приведите передаваемые параметры в соответствие с их определением.</p>

## Примеры

Некорректно

```sql
EXEC sp_executesql
    @stmt = N'select cmd'
    , @params = N'@date DATE, @sum MONEY NULL OUTPUT, @name CHAR(1)'
    , @sum = @sum
    , @date = @from_date;
```

Корректно

```sql
EXEC sp_executesql
    @stmt = N'select cmd'
    , @params = N'@date DATE, @sum MONEY NULL OUTPUT, @name CHAR(1)'
    , @name = 'test'
    , @sum = @sum OUTPUT
    , @date = @from_date;
```
