

# Недопустимая опция для CLR-модуля

|||
|-|-|
| Id | **FA0822**
| Мнемо | INVALID_CLR_OPTION
| Серьёзность | ⛔ Ошибка
| Категория | [Сбой](./Категория_Сбой.md)
| Исходный код | [InvalidClrOptionRule.cs](../../../Rules/Failure/InvalidClrOptionRule.cs)

## Причина

Правило срабатывает, если для CLR-модуля указаны опции ENCRYPTION или RECOMPILE.
<p id="descr">Удалите опции ENCRYPTION и RECOMPILE.</p>

## Примеры

Некорректно

```sql
CREATE FUNCTION dbo.foo (@arg VARCHAR(MAX))
RETURNS INT
WITH ENCRYPTION
AS
EXTERNAL NAME proj.dll.func;
GO
```

Корректно

```sql
CREATE FUNCTION dbo.foo (@arg VARCHAR(MAX))
RETURNS INT
AS
EXTERNAL NAME proj.dll.func;
GO
```

## Ссылки

[RECOMPILE, ENCRYPTION](https://learn.microsoft.com/ru-ru/sql/t-sql/statements/create-procedure-transact-sql?view=sql-server-ver16#recompile)
