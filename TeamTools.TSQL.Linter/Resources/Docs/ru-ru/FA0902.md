

# Несовместимые опции курсора

|||
|-|-|
| Id | **FA0902**
| Мнемо | CURSOR_OPTION_INCOMPATIBLE
| Серьёзность | ⚠ Предупреждение
| Категория | [Сбой](./Категория_Сбой.md)
| Исходный код | [CursorOptionsCompatibilityRule.cs](../../../Rules/Failure/CursorOptionsCompatibilityRule.cs)

## Причина

Правило срабатывает, если в курсоре указаны несовместимые опции.
<p id="descr">Удалите несовместимые опции.</p>

## Примеры

Некорректно

```sql
DECLARE mycursor CURSOR LOCAL FAST_FORWARD FOR
    SELECT pr.product_id, pr.price FROM dbo.product AS pr WHERE pr.type = 100
    FOR UPDATE OF pr.price;
```

Корректно

```sql
DECLARE mycursor CURSOR LOCAL FORWARD_ONLY DYNAMIC FOR
    SELECT pr.product_id, pr.price FROM dbo.product AS pr WHERE pr.type = 100
    FOR UPDATE OF pr.price;
```

## Подсказки

 💡 Не все опции курсора совместимы между собой.
 
 💡 Список несовместимых опций курсора:
 
    LOCAL        GLOBAL
    SCROLL       FORWARD_ONLY
    SCROLL       FAST_FORWARD
    STATIC       KEYSET
    STATIC       DYNAMIC
    STATIC       FAST_FORWARD
    STATIC       SCROLL_LOCKS
    DYNAMIC      KEYSET
    FAST_FORWARD DYNAMIC
    FAST_FORWARD KEYSET
    FAST_FORWARD SCROLL_LOCKS
    FAST_FORWARD OPTIMISTIC
    FAST_FORWARD FORWARD_ONLY
    FAST_FORWARD READONLY
 
## Ссылки

[DECLARE CURSOR](https://learn.microsoft.com/ru-ru/sql/t-sql/language-elements/declare-cursor-transact-sql?view=sql-server-ver16) 


