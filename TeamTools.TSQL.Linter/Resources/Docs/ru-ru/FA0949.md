

# Колонка не включена в GROUP BY или агрегатную функцию

|||
|-|-|
| Id | **FA0949**
| Мнемо | COLUMN_NOT_IN_GROUP_BY
| Серьёзность | ⚠ Предупреждение
| Категория | [Сбой](./Категория_Сбой.md)
| Исходный код | [ColumnNotIncludedInGroupByRule.cs](../../../Rules/Failure/ColumnNotIncludedInGroupByRule.cs)

## Причина

Правило срабатывает, если колонка выборки не участвует в определении GROUP BY, и над ней не выполняется агрегация.
<p id="descr">Укажите неагрегированные колонки запроса в GROUP BY.</p>

## Примеры

Некорректно

```sql
SELECT SUM(Amount) total_amount, col1, col2
FROM dbo.Orders
GROUP BY col1
```

Корректно

```sql
SELECT SUM(Amount) total_amount, col1, col2
FROM dbo.Orders
GROUP BY col1, col2
```

## Ссылки

[Агрегатные функции](https://learn.microsoft.com/ru-ru/sql/t-sql/functions/aggregate-functions-transact-sql?view=sql-server-ver16)

[SELECT — GROUP BY](https://learn.microsoft.com/ru-ru/sql/t-sql/queries/select-group-by-transact-sql?view=sql-server-ver16)