

# В определении оператора Insert отсутствуют требуемые колонки

|||
|-|-|
| Id | **FA0980**
| Мнемо | INSERT_MISSES_REQUIRED_COL
| Серьёзность | ⚠ Предупреждение
| Категория | [Сбой](./Категория_Сбой.md)
| Исходный код | [InsertMissesRequiredColumnRule.cs](../../../Rules/Failure/InsertMissesRequiredColumnRule.cs)

## Причина

Правило срабатывает, если в инструкции INSERT не указана колонка, которая имеет ограничение NOT NULL и не имеет значения по умолчанию.
<p id="descr">Укажите значение для NOT NULL колонки.</p>

## Примеры

Некорректно

```sql
CREATE TABLE dbo.Product
(
    ProductId     INT          NOT NULL
    , ProductName VARCHAR(100) NOT NULL  DEFAULT('product')
    , Quantity    SMALLINT     NULL
    , Price       MONEY        NULL
);

INSERT INTO dbo.Product (ProductName, Quantity, Price)
VALUES
(
      'Product1'    
    , 100           
    , 5             
);
```

Корректно

```sql
CREATE TABLE dbo.Product
(
    ProductId     INT          NOT NULL
    , ProductName VARCHAR(100) NOT NULL  DEFAULT('product')
    , Quantity    SMALLINT     NULL
    , Price       MONEY        NULL
);

INSERT INTO dbo.Product (ProductId, ProductName, Quantity, Price)
VALUES
(
    1               
    , 'Product1'    
    , 100           
    , 5             
);
```

## Подсказки

💡 ROWVERSION, TIMESTAMP и IDENTITY колонки считаются имеющими значения по умолчанию.

💡 При IDENTITY_INSERT ON колонка IDENTITY считается обязательной для заполнения.