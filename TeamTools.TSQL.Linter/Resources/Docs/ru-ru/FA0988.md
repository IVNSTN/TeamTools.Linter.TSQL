

# Недопустимый размер типа данных

|||
|-|-|
| Id | **FA0988**
| Мнемо | INVALID_TYPE_SIZE
| Серьёзность | ⛔ Ошибка
| Категория | [Сбой](./Категория_Сбой.md)
| Исходный код | [InvalidTypeSizeRule.cs](../../../Rules/Failure/InvalidTypeSizeRule.cs)

## Причина

Правило срабатывает, если при указании типа данных задан размер, который этим типом данных не поддерживается.
<p id="descr">Укажите правильный размер типа данных.</p>

## Примеры

Некорректно

```sql
DECLARE @tinyint TINYINT 
SET @tinyint = -1
SET @tinyint = 256

DECLARE @smallint SMALLINT
SET @smallint = -32769 
SET @smallint = 32768
```

Корректно

```sql
DECLARE @tinyint TINYINT
SET @tinyint = 0
SET @tinyint = 255

DECLARE @smallint SMALLINT 
SET @smallint = -32768
SET @smallint = 32767
```

## Подсказки

💡 Распространенная ошибка - при смене типа с VARCHAR на NVARCHAR остается размер 8000, хотя NVARCHAR допускает не более 4000 символов (кроме декларации с MAX-размером).

💡 Ещё пример: ошибка может возникать при генерации динамического SQL-сценария, если длина используемой локальной переменной больше 8000 символов в случае типа данных VARCHAR. Решение: в этом случае нужно использовать тип данных VARCHAR(MAX)

## Ссылки

[Размер типов данных(int, bigint, smallint, and tinyint)](https://learn.microsoft.com/ru-ru/sql/t-sql/data-types/int-bigint-smallint-and-tinyint-transact-sql?view=sql-server-ver16)

[Размер типов данных(money and smallmoney)](https://learn.microsoft.com/ru-ru/sql/t-sql/data-types/money-and-smallmoney-transact-sql?view=sql-server-ver16)