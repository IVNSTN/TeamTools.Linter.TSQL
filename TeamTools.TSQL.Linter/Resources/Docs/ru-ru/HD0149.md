

# Ветвление кода на основании HOST_NAME

|||
|-|-|
| Id | **HD0149**
| Мнемо | HOST_NAME_BASED_FLOW
| Серьёзность | ⚠ Предупреждение
| Категория | [Хардкод](./Категория_Хардкод.md)
| Исходный код | [HostNameBasedCodeFlowRule.cs](../../../Rules/Hardcode/HostNameBasedCodeFlowRule.cs)

## Причина

Правило срабатывает, если в коде обнаруживается использование функции HOST_NAME() в предикатах IF и WHERE.
<p id="descr">Уберите вызов HOST_NAME() в предикате IF или WHERE.</p>

## Примеры

Некорректно

```sql
UPDATE t SET
    foo = bar
FROM tbl AS t
WHERE 'asdf' <> HOST_NAME()
```

Корректно

```sql
UPDATE t SET
    caller = HOST_NAME()
FROM tbl AS t
WHERE caller IS NULL
```

## Подсказки

💡Большинство упоминаний этой функции имеют происхождение в желании подебажить код конкретным сотрудником и на проде существовать такое не имеет права.

💡Реагирует только на использование HOST_NAME() в предикатах IF и WHERE. Если нужно логировать имя вызывающего хоста - логируйте на здоровье.
