

# Хардкод имени БД или сервера при создании синонима

|||
|-|-|
| Id | **HD0212**
| Мнемо | SYNONYM_VAR_LINKS
| Серьёзность | ⚠ Предупреждение
| Категория | [Хардкод](./Категория_Хардкод.md)
| Исходный код | [SynonymVariableReferenceRule.cs](../../../Rules/Hardcode/SynonymVariableReferenceRule.cs)

## Причина

Правило срабатывает при обнаружении явного указания имени базы или сервера в скрипте создания синонима.
<p id="descr">Замените константы в имени базы/сервера на переменные</p>

## Примеры

Некорректно

```sql
CREATE SYNONYM foo FOR server.db.dbo.bar;

CREATE SYNONYM foo FOR [$(server_var)].db.dbo.bar;

CREATE SYNONYM foo FOR server.[$(db_var)].dbo.bar;
```

Корректно

```sql
CREATE SYNONYM foo FOR [$(server_var)].[$(db_var)].dbo.bar;
```

## Подсказки

💡В синонимах нужно использовать переменные вида [$(reference_var)], а не прямые названия баз и серверов.

💡Чтобы такая переменная появилась в проекте нужно добавить соответствующий dacpac в зависимости проекта. При этом важно не забыть обновить publish.xml скрипты и произвести аналогичные действия в проекте с тестами, если он есть.
