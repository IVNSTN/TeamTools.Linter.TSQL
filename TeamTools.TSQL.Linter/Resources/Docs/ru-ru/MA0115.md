

# Использование неотсортированного курсора

|||
|-|-|
| Id | **MA0115**
| Мнемо | ORDER_BY_CURSOR
| Серьёзность | ℹ Подсказка
| Категория | [Обслуживаемость](./Категория_Обслуживаемость.md), [Курсоры](./Группа_Курсоры.md)
| Исходный код | [OrderedCursorRule.cs](../../../Rules/Maintainability/OrderedCursorRule.cs)

## Причина

<p id="descr">Правило срабатывает, если в определении курсора не задана сортировка.</p>

## Примеры

Некорректно

```sql
DECLARE cr CURSOR GLOBAL FORWARD_ONLY STATIC FOR
    SELECT a, b, (SELECT TOP (1) z FROM bar) AS t FROM foo;
```

Корректно

```sql
DECLARE cr CURSOR LOCAL FORWARD_ONLY STATIC FOR
    SELECT a, b, (SELECT TOP (1) z FROM bar) AS t FROM foo ORDER BY b DESC;
```

## Подсказки

💡 Сортировка нужна для предсказуемости порядка обработки входящего набора строк, а так же помогает при отладке и мониторинге.
