
# В триггере не установлена опция NOCOUNT

|||
|-|-|
| Id | **PF0145**
| Мнемо | TRIGGER_SET_NOCOUNT
| Серьёзность | ⚠ Предупреждение
| Категория | [Производительность](./Категория_Производительность.md), [Триггеры](./Группа_Триггеры.md)
| Исходный код | [NocountOptionInTriggerRule.cs](../../../Rules/Performance/NocountOptionInTriggerRule.cs)

## Причина

Правило срабатывает, если в триггере не установлена опция `NOCOUNT`.
<p id="descr">Установите опцию NOCOUNT.</p>

## Примеры

Некорректно

```sql
CREATE TRIGGER dbo.acc_types_u_after
ON dbo.acc_types
AFTER UPDATE
AS
BEGIN
    INSERT ...
```

Корректно

```sql
CREATE TRIGGER dbo.acc_types_u_after
ON dbo.acc_types
AFTER UPDATE
AS
BEGIN
    SET NOCOUNT ON;

    INSERT ...
```

## Подсказки

💡 В общем случае нужен `ON`. Если зачем-то нужен `OFF` - ставьте, правило само значение опции не проверяет.

💡 Устанавливать опцию нужно исключительно после проверки `@@ROWCOUNT`.
