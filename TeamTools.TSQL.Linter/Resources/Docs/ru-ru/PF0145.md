

# В триггере не установлена опция NOCOUNT

|||
|-|-|
| Id | **PF0145**
| Мнемо | TRIGGER_SET_NOCOUNT
| Серьёзность | ⚠ Предупреждение
| Категория | [Производительность](./Категория_Производительность.md), [Триггеры](./Группа_Триггеры.md)
| Исходный код | [NocountOptionInTriggerRule.cs](../../../Rules/Performance/NocountOptionInTriggerRule.cs)

## Причина

<p id="descr">Опция NOCOUNT обязана быть установлена в каждом триггере.</p>

## Примеры

Некорректно

```sql
CREATE TRIGGER dbo.acc_types_u_after
ON dbo.acc_types
AFTER UPDATE
AS
BEGIN
    INSERT ...
```

Корректно

```sql
CREATE TRIGGER dbo.acc_types_u_after
ON dbo.acc_types
AFTER UPDATE
AS
BEGIN
    SET NOCOUNT ON;
    
    INSERT ...
```

## Подсказки

💡 В общем случае нужен ON. Если зачем-то нужен OFF - ставьте - правило само значение опции не проверяет.

💡 И конечно же устанавливать опцию имеет смысл исключительно после проверки @@ROWCOUNT.
