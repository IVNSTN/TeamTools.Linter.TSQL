

# Непредвиденная сортировка результирующего набора представления

|||
|-|-|
| Id | **PF0952**
| Мнемо | VIEW_SORTED_OUTPUT
| Серьёзность | ⚠ Предупреждение
| Категория | [Производительность](./Категория_Производительность.md)
| Исходный код | [SortedOutputFromViewRule.cs](../../../Rules/Performance/SortedOutputFromViewRule.cs)

## Причина

<p id="descr">Сортировать результирующий набор представлений не нужно, так как они встраиваются в другие запросы, где будет итоговая сортировка. Сортировка в представлениях либо избыточна, либо может привести к ненадежному решению.</p>

## Примеры

Некорректно

```sql
CREATE VIEW dbo.my_view
AS
    SELECT TOP (100) PERCENT
           id
           , title
    FROM dbo.foo
    ORDER BY id;
```

Корректно

```sql
CREATE VIEW dbo.my_view
AS
    SELECT
           id
           , title
    FROM dbo.foo;
```

## Подсказки

💡 В интерфейсах приложений пользователи часто могут самостоятельно изменять сортировку, что делает сортировку в представлениях бессмысленной. Даже если они не могут этого сделать, фиксированная сортировка - это решение, которое должно приниматься на уровне приложения, и переносить эту логику и ответственность в базу данных не является удачным подходом. Пусть сортировку выполняет приложение.
