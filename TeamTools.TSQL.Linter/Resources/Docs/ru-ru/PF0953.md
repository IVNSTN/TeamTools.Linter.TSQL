
# Ограничение TOP не накладывает ограничений

|||
|-|-|
| Id | **PF0953**
| Мнемо | TOP_TAKES_ALL
| Серьёзность | ⚠ Предупреждение
| Категория | [Производительность](./Категория_Производительность.md)
| Исходный код | [TopTakesAllRule.cs](../../../Rules/Performance/TopTakesAllRule.cs)

## Причина

Правило срабатывает, если в ограничении предложения `TOP` указано `100 PERCENT` или большое число строк.
<p id="descr">Удалите предложение TOP.</p>

## Примеры

Некорректно

```sql
SELECT TOP (100) PERCENT
    a, b, c
FROM dbo.bar
```

Корректно

```sql
SELECT a, b, c
FROM dbo.bar
```

## Подсказки

💡 Сортировать результирующий набор представлений не нужно. Для контроля за этим есть отдельное правило [PF0952](./PF0952.md).

💡 Для конкатенации строк в определенном порядке лучше применить функцию `STRING_AGG`, в вызове которой возможно указать сортировку.

💡 Для нумерации строк в определенном порядке лучше применить функцию `ROWNUMBER`, в вызове которой возможно указать сортировку.

💡 Служебные и административные хранимые процедуры, отвечающие за перемещение данных по частям, следует размещать в отдельных схемах.
