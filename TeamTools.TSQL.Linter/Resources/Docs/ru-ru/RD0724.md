

# Избыточное определение опций при создании индекса

|||
|-|-|
| Id | **RD0724**
| Мнемо | REDUNDANT_INDEX_OPTION
| Серьёзность | ℹ Подсказка
| Категория | [Избыточность](./Категория_Избыточность.md), [Индексы](./Группа_Индексы.md)
| Исходный код | [RedundantIndexOptionRule.cs](../../../Rules/Redundancy/RedundantIndexOptionRule.cs)

## Причина

Правило срабатывает, если в инструкциях по созданию индексов задаются значения опций, совпадающие со значениями по-умолчанию, принятыми в системе.
<p id="descr">Удалите опции индекса, значения которых совпадают со значениями по умолчанию.</p>

## Примеры

Некорректно

```sql
CREATE TABLE dbo.foo
(
    id INT,
    title VARCHAR(20),
    CONSTRAINT PK PRIMARY KEY CLUSTERED (id)
    WITH (PAD_INDEX = OFF, ALLOW_ROW_LOCKS = ON)
)

CREATE INDEX IX ON dbo.foo(title) 
WITH (SORT_IN_TEMPDB = OFF, DROP_EXISTING = OFF) 
```

Корректно

```sql
CREATE TABLE dbo.foo
(
    id INT,
    title VARCHAR(20),
    CONSTRAINT PK PRIMARY KEY CLUSTERED (id)
)

CREATE INDEX IX ON dbo.foo(title) 
WITH (SORT_IN_TEMPDB = OFF) 
```

## Ссылки

[Index options](https://learn.microsoft.com/en-us/sql/t-sql/statements/create-index-transact-sql?view=sql-server-ver16#relational_index_option)
