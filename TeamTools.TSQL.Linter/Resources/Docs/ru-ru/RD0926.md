

# Избыточная опция NOT FOR REPLICATION

|||
|-|-|
| Id | **RD0926**
| Мнемо | REDUNDANT_NOT_FOR_REPLICATION
| Серьёзность | ⚠ Предупреждение
| Категория | [Избыточность](./Категория_Избыточность.md)
| Исходный код | [RedundantNotForReplicationRule.cs](../../../Rules/Redundancy/RedundantNotForReplicationRule.cs)

## Причина

Правило срабатывает, если в определении констрейнта или триггера устанавливается опция NOT FOR REPLICATION.
<p id="descr">Удалите опцию NOT FOR REPLICATION.</p>

## Примеры

Некорректно

```sql
CREATE TABLE dbo.foo
(
    usr_name    VARCHAR(20) NOT NULL
    , role_id   INT NOT NULL
    , CONSTRAINT ck_name CHECK NOT FOR REPLICATION (usr_name <> 'admin')
)

CREATE TRIGGER dbo.my_trg ON dbo.foo AFTER INSERT
NOT FOR REPLICATION
AS
BEGIN
    DELETE dbo.bar WHERE id = 1;
END
```

Корректно

```sql
CREATE TABLE dbo.foo
(
    usr_name    VARCHAR(20) NOT NULL
    , role_id   INT NOT NULL
    , CONSTRAINT ck_name CHECK (usr_name <> 'admin')
)

CREATE TRIGGER dbo.my_trg ON dbo.foo AFTER INSERT
AS
BEGIN
    DELETE dbo.bar WHERE id = 1;
END
```
