

# Неожидаемый вызов системной sp_ хранимой процедуры

|||
|-|-|
| Id | **VU0507**
| Мнемо | SP_PROC_CALL
| Серьёзность | ⚠ Предупреждение
| Категория | [Уязвимость](./Категория_Уязвимость.md)
| Исходный код | [SystemProcedureCallRule.cs](../../../Rules/Vulnerability/SystemProcedureCallRule.cs)

## Причина

Правило срабатывает при обнаружении системных хранимых процедур.
<p id="descr">Удалите вызов системной процедуры.</p>

## Примеры

Некорректно

```sql
EXEC sp_who2;
```

## Подсказки

💡 Для служебных и административных процедур выбирайте специально отведенные для этого схемы и БД.

💡 Получив доступ к служебной процедуре, рядовой пользователь продукта может прямо или косвенно получить доступ к управлению СУБД, что небезопасно. Только администраторы БД могут иметь доступ такого уровня.

💡 sp_executesql здесь игнорируется и обрабатывается правилом [VU0509](./VU0509.md).

💡 sp_getapplock, sp_releaseapplock здесь игнорируются и обрабатываются отдельным правилом [CS0520](./CS0520.md).

💡 sp_xml_preparedocument, sp_xml_removedocument здесь тоже игнорируются, хотя вместо них и рекомендуется переходить на XQuery
